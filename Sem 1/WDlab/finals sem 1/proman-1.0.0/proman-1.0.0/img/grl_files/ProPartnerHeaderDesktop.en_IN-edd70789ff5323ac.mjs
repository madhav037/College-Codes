(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[67123,93209,39395],{302667:(e,t,s)=>{s.d(t,{As:()=>a,Ed:()=>c,X_:()=>i,h_:()=>o,vF:()=>r,x3:()=>l});var n=s(172071);const i=e=>{e&&e.utm_campaign&&n.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},r=(e,t,s,i,r,o,l={})=>{((e,t)=>{const s=`client.partner.quick_promote_button.${e}`;n.Z.increment(s,1,{app_type:"web",location:t})})(t,s),((e,t,s,n={},i)=>{i({event_type:e,component:t,element:10148,view_type:s,aux_data:{...n}})})(i,r,o,l,e)},o=e=>{e({event_type:8217})},l=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},a=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},c=e=>{const t=`client.partner.biz_nux_v2.render.${e}`;n.Z.increment(t,1,{app_type:"web"})}},667455:(e,t,s)=>{function n(e){return e.bt("Conversions", "Conversions", "[m10n]business.conversions.title", undefined, true)}function i(e){return e.bt("Manage your conversion tracking with the help of our conversions page.", "Manage your conversion tracking with the help of our conversions page.", "[m10n]business.conversions.title", undefined, true)}s.d(t,{U:()=>n,a:()=>i})},53090:(e,t,s)=>{s.d(t,{Pb:()=>g,ZP:()=>f});var n=s(667294),i=s(537736),r=s(121093),o=s(102800),l=s(869636),a=s(784590),c=s(19121),d=s(934523),_=s(497529),u=s(898781),h=s(883119),p=s(966113),m=s(785893);function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const g=60,P=500896,C=1000109;class E extends n.PureComponent{constructor(e){super(e),A(this,"setTooltipAnchor",(e=>{e&&this.setState({tooltipAnchor:e})})),A(this,"getUnreadInteractionCount",(()=>{const{nativeInteractions:e}=this.props;if(null!=e&&e.data){return e.data.results.filter((e=>!e.seen)).length}return 0})),A(this,"handleDismiss",(()=>{this.setState({isTooltipOpen:!1})})),A(this,"handleCompleteExperience",(()=>{const{experience:e,experienceClient:t}=this.props;e&&e.experience_id===P&&t.completeExperience(C,P),this.handleDismiss()}));const{experience:t}=e;this.state={isTooltipOpen:t&&t.experience_id===P}}componentDidMount(){const{experience:e,selected:t}=this.props;t&&e&&e.experience_id===P&&this.handleCompleteExperience()}componentDidUpdate(e){const{nativeInteractions:t,selected:s}=this.props;e.selected!==s&&t&&t.refresh()}render(){const{compactMode:e,isWwwSite:t,selected:s}=this.props,{isTooltipOpen:n,tooltipAnchor:l}=this.state,a=l&&(0,m.jsx)(r.Z,{eligibleIds:[P],placementId:C,children:(0,m.jsx)(h.J2,{showCaret:!0,anchor:l,color:"blue",idealDirection:"down",onDismiss:this.handleCompleteExperience,shouldFocus:!1,size:"sm",children:(0,m.jsx)(h.xu,{padding:3,children:(0,m.jsx)(h.xv,{color:"inverse",overflow:"normal",weight:"bold",children:this.props.i18n.bt("Meet your community! Click to see and respond to @mentions and comments on your Pins.", "Meet your community! Click to see and respond to @mentions and comments on your Pins.", "engagement.engagementTab.tooltip", undefined, true)})})})}),c=s?0:this.getUnreadInteractionCount();return(0,m.jsxs)(h.xu,{position:"relative",children:[(0,m.jsx)(h.xu,{ref:this.setTooltipAnchor,children:(0,m.jsx)(o.Z,{accessibilityLabel:this.props.i18n.bt("Manage comments and social activity", "Manage comments and social activity", "Tab to access engagement", undefined, true),compactMode:e,contextData:{event:101,component:8,element:10804},icon:(0,m.jsx)(i.Z,{count:c,accessibilityLabel:"",color:s?"default":"subtle",icon:"megaphone",iconSize:d.L1}),onClick:this.handleCompleteExperience,text:this.props.i18n.bt("Engagement", "Engagement", "visual label for engagement tab icon in nav bar", undefined, true),selected:s,url:t?p.i$J:p.NaA},"EngagementButton")}),n&&!s&&a]})}}function f(e){const t=(0,u.ZP)(),s=(0,_.Z)(),n=(0,c.Z)(),i=(0,a.Z)({name:"NativeInteractionsResource",options:{use_mock_data:!1,page_size:g,username:n.isAuth?n.username:""}}),{experience:r}=(0,l.Z)(C);return(0,m.jsx)(E,{...e,experienceClient:s,i18n:t,nativeInteractions:i,viewer:n,experience:r})}},990698:(e,t,s)=>{function n(e,t){e({event_type:101,component:10039,element:t})}function i(e,t,s){return()=>{n(e,t),s&&s()}}s.d(t,{C:()=>n,l:()=>i})},811677:(e,t,s)=>{s.r(t),s.d(t,{PRO_PARTNER_HEADER_HEIGHT:()=>Xe,ProPartnerHeader:()=>Ke,default:()=>Qe});var n=s(667294),i=s(794230),r=s(934723),o=s(401060),l=s(321611),a=s(289615),c=s(883119),d=s(785893);function _({dataTestId:e,isExperimentActivated:t,href:s,content:n,onClick:i,dataElementType:r,forceUrlNavigation:o}){return t?o?(0,d.jsxs)(c.xu,{"data-test-id":e,"data-element-type":r,children:[(0,d.jsx)(c.xu,{display:"none",children:(0,d.jsx)(c.rU,{href:s,children:`${e}-hidden`})}),(0,d.jsx)(c.iP,{onTap:function({event:e}){e.preventDefault(),e.stopPropagation(),i(e),window.location.href=s},children:(0,d.jsx)("div",{className:a.Qg,children:n})})]}):(0,d.jsx)(c.xu,{"data-test-id":e,"data-element-type":r,children:(0,d.jsx)(c.iP,{role:"link",href:s,onTap:function({event:e}){e.stopPropagation(),i(e)},children:(0,d.jsx)("div",{className:a.Qg,children:n})})}):(0,d.jsx)("a",{className:a.Qg,"data-element-type":r,"data-test-id":e,href:s,onClick:i,children:n})}var u=s(990698),h=s(667455),p=s(438112),m=s(966113),A=s(407043),g=s(773285),P=s(385740),C=s(795191),E=s(21353),f=s(898781),b=s(641692),y=s(302667);function x(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class v extends n.PureComponent{constructor(...e){super(...e),x(this,"getCreateCampaignUrl",(e=>{const{advertiser:t,experimentsClient:s,getSterlingURL:n,isAdsSite:i=!1,isAnalyticsSite:o=!1,isTrendsSite:l=!1,isShoppingCatalogs:a}=this.props,{anyEnabled:c}=s.checkExperiment("web_m10n_pin_support_tool"),d=c&&e?{managedClientId:e}:void 0;return(0,r.Z)({advertiser:t,isAdsSite:i,isAnalyticsSite:o,isTrendsSite:l,baseUrl:(0,p.aI)(s)?n("campaignMode",d):n("create",d),isShoppingCatalogs:a})})),x(this,"getPromotePinUrl",(e=>{const{experimentsClient:t,getSterlingURL:s,isAdsSite:n}=this.props,{anyEnabled:r}=t.checkExperiment("web_m10n_pin_support_tool"),o=r&&e?{managedClientId:e}:void 0;return n?s("quick_promote",o):(0,i.Z)(m.Jqx,o)})),x(this,"handlePromoteClick",(e=>{e.preventDefault();const{changeClient:t,experimentsClient:s,managedClientId:n,onItemClick:i,logContextEvent:r}=this.props,{anyEnabled:o}=s.checkExperiment("web_m10n_pin_support_tool"),l=this.getCreateCampaignUrl(n);o&&n&&t(n),(0,u.l)(r,10613,i)(),(0,y.h_)(r),window.location.assign(l)})),x(this,"handleNavbarPromotePinClickLogging",(()=>{const{changeClient:e,experimentsClient:t,logContextEvent:s,managedClientId:n,onItemClick:i}=this.props,{anyEnabled:r}=t.checkExperiment("web_m10n_pin_support_tool");r&&n&&e(n),(0,y.vF)(this.props.logContextEvent,b.NH.CLICK,b.Xc.NAVBAR_PROMOTE_PIN,101,10039),(0,u.l)(s,13148,i)()})),x(this,"isActionPermitted",(e=>{const{advertiser:t}=this.props;return!t||(0,l.Z)((t||{}).actions||[],e)})),x(this,"handleMenuClick",(e=>{const{changeClient:t,experimentsClient:s,logContextEvent:n,managedClientId:i,onItemClick:r}=this.props,{anyEnabled:o}=s.checkExperiment("web_m10n_pin_support_tool");o&&i&&t(i),(0,u.l)(n,e,r)}))}componentDidMount(){if(this.props.advertiser){const{viewType:e,viewParameter:t}=this.props;this.props.logContextEvent({event_type:13,view_type:e,view_parameter:t,component:10039,element:11923}),(0,y.vF)(this.props.logContextEvent,b.NH.RENDER,b.Xc.NAVBAR_PROMOTE_PIN,120,10039)}}render(){const{advertiser:e,experimentsClient:t,getSterlingURL:s,isAdsSite:n=!1,isAnalyticsSite:l=!1,isTrendsSite:p=!1,onItemClick:m,isShoppingCatalogs:A,logContextEvent:g,managedClientId:P}=this.props,{anyEnabled:C}=t.checkExperiment("web_m10n_pin_support_tool"),{anyEnabled:E}=t.checkExperiment("aid_exp_advertiser_menu_tap_area"),f=C&&P?{managedClientId:P}:void 0;return(0,d.jsxs)("ul",{className:a.cF,children:[this.isActionPermitted(15)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"createCampaignMenuItem",dataElementType:10613,isExperimentActivated:E,href:this.getCreateCampaignUrl(P),onClick:e=>{this.handlePromoteClick(e)},content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Create campaign", "Create campaign", "[m10n]proPartnerHeader.adsMenuContent.createAdMenuItem", undefined, true)})})},"create_flow_list_button_create_ad"),this.isActionPermitted(101)&&t.checkExperiment("adv_growth_navigation_updates").anyEnabled&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"prometePinMenuItem",dataElementType:13148,isExperimentActivated:E,href:this.getPromotePinUrl(P),onClick:this.handleNavbarPromotePinClickLogging,content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Promote a Pin", "Promote a Pin", "[m10n]proPartnerHeader.adsMenuContent.promotePinMenuItem", undefined, true)})})},"create_flow_list_button_pin_promote"),this.isActionPermitted(11)&&!t.checkExperiment("aid_exp_sterling_landing_reporting_dashboard").anyEnabled&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"overviewMenuItem",dataElementType:10084,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:(0,i.Z)("/",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10084),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Overview", "Overview", "[m10n]proPartnerHeader.adsMenuContent.overviewMenuItem", undefined, true)})})},"/"),this.isActionPermitted(11)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"reportingMenuItem",dataElementType:10304,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:s("reporting",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10304),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Reporting", "Reporting", "[m10n]proPartnerHeader.adsMenuContent.reportingMenuItem", undefined, true)})})},"reporting"),this.isActionPermitted(11)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"customReportsMenuItem",dataElementType:11718,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:s("report_history",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(11718),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Custom reports", "Custom reports", "[m10n]proPartnerHeader.adsMenuContent.customReportsMenuItem", undefined, true)})})},"custom_reports"),this.isActionPermitted(9)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"bulkEditrorMenuItem",dataElementType:10090,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:(0,i.Z)("/bulk_editor/",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10090),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Bulk Editor", "Bulk editor", "[m10n]proPartnerHeader.adsMenuContent.bulkEditorMenuItem", undefined, true)})})},"bulk_editor"),this.isActionPermitted(35)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"analyticsOverview",dataElementType:10091,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:(0,i.Z)("/conversions/",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10091),content:(0,d.jsx)(c.xv,{weight:"bold",children:(0,h.U)(this.props.i18n)})})},"conversions"),this.isActionPermitted(32)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"audiencesMenuItem",dataElementType:10171,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:s("audiences",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10171),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Audiences", "Audiences", "[m10n]proPartnerHeader.adsMenuContent.audiencesMenuItem", undefined, true)})})},"audiences"),this.isActionPermitted(54)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"adAccountHistoryMenuItem",dataElementType:10305,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:(0,i.Z)("/history/",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10305),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Ad account history", "Ad account history", "[m10n]proPartnerHeader.adsMenuContent.adAccountHistoryMenuItem", undefined, true)})})},"history"),this.isActionPermitted(56)&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"billingMenuItem",dataElementType:10103,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:(0,i.Z)("/billing/",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(10103),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Billing", "Billing", "[m10n]proPartnerHeader.adsMenuContent.billingMenuItem", undefined, true)})})},"billing"),t.checkExperiment("sterling_media_planner").anyEnabled&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"mediaPlannerMenuItem",dataElementType:11384,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:"/media_planner/",isShoppingCatalogs:A}),onClick:(0,u.l)(g,11384,m),content:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Media planner", "Media Planner", "[m10n]proPartnerHeader.adsMenuContent.mediaPlannerMenuItem", undefined, true)})}),(0,d.jsx)(c.xu,{marginTop:-1,children:(0,d.jsx)(c.Ct,{text:this.props.i18n.bt("Internal", "Internal", "[m10n]proPartnerHeader.adsMenuContent.mediaPlannerMenuItemBadge", undefined, true)})})]})})},"media_planner"),this.isActionPermitted(9)&&t.checkExperiment("enable_catalogs").anyEnabled&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"catalogsMenuItem",dataElementType:10808,isExperimentActivated:E,href:(0,i.Z)(`${(0,o.Z)({site:"www"})}/product-catalogs/`,{advertiserId:null!=e&&e.id?e.id:{},...f}),onClick:()=>this.handleMenuClick(10808),content:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Catalogues", "Catalogs", "[m10n]proPartnerHeader.adsMenuContent.catalogsMenuItem", undefined, true)})})},"product-catalogs"),(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"recommendationsMenuItem",dataElementType:11923,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:s("recommendations",f),isShoppingCatalogs:A}),onClick:()=>this.handleMenuClick(11923),content:(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Recommendations", "Recommendations", "[m10n]proPartnerHeader.adsMenuContent.recommendationsMenuItem", undefined, true)})})})},"recommendations"),this.isActionPermitted(32)&&t.checkExperiment("aid_exp_aud_debug").anyEnabled&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"audienceDebugMenuItem",dataElementType:13094,isExperimentActivated:E,href:(0,r.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:l,isTrendsSite:p,baseUrl:s("audience_debug"),isShoppingCatalogs:A}),onClick:(0,u.l)(g,13094,m),content:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:this.props.i18n.bt("Audience debug", "Audience debug", "[m10n]proPartnerHeader.adsMenuContent.audienceDebugMenuItem", undefined, true)})}),(0,d.jsx)(c.xu,{marginTop:-1,children:(0,d.jsx)(c.Ct,{text:this.props.i18n.bt("Internal", "Internal", "[m10n]proPartnerHeader.adsMenuContent.audienceDebugBadgeText", undefined, true)})})]})})},"audience-debug")]})}}function S(e){const{logContextEvent:t}=(0,A.v)(),s=(0,f.ZP)(),{viewType:n,viewParameter:i}=(0,P.SU)(),r=(0,C.a)(),{changeClient:o,headerVisible:l,managedBusinesses:a}=r||{},c=l&&a?a[0].id:void 0;return(0,d.jsx)(v,{...e,getSterlingURL:(0,E.Z)(),i18n:s,logContextEvent:t,experimentsClient:(0,g.F)(),viewType:n,viewParameter:i,managedClientId:c,changeClient:o})}function T({advertiser:e,isAdsSite:t,isAdsNavMenuEnabled:s,isShoppingCatalogs:i}){const{logContextEvent:r}=(0,A.v)(),o=(0,f.ZP)(),l=(0,n.useRef)(null),[_,u]=(0,n.useState)(!1);return(t||s)&&(0,d.jsxs)(c.xu,{"data-test-id":"adsButton",paddingX:a.Lz,ref:l,children:[(0,d.jsx)(c.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:o.bt("Ads drop-down button", "Ads dropdown button", "proPartnerHeader.adsMenu.button", undefined, true),color:"white",iconEnd:"arrow-down",onClick:()=>u(!_),selected:_,size:"lg",text:o.bt("Ads", "Ads", "proPartnerHeader.adsMenu.title", undefined, true)}),_&&(0,d.jsx)(c.J2,{anchor:l.current,idealDirection:"down",onDismiss:()=>u(!1),size:"md",children:(0,d.jsx)(S,{advertiser:e,isAdsSite:t,isShoppingCatalogs:i,onItemClick:function(){u(!1),r({event_type:101,component:10039,element:10083})}})})]})}var w=s(784590),I=s(373232),O=s(780280);function z({advertiser:e,isAnalyticsSite:t,onItemClick:s}){const r=(0,f.ZP)(),{logContextEvent:o}=(0,A.v)(),l=(0,O.B)(),{enabled_advertiser_countries:h}=(0,I.u7)(),{checkExperiment:p}=(0,g.F)(),P=(0,C.a)(),{changeClient:E,headerVisible:b,managedBusinesses:y}=P||{},x=b&&y?y[0].id:void 0,{anyEnabled:v}=p("aid_exp_analytics_menu_tap_area"),{anyEnabled:S}=p("web_m10n_pin_support_tool"),{data:T}=(0,w.Z)({name:"UserResource",options:{field_set_key:"analytics_content_owner",user_id:l.advertiser&&l.advertiser.owner_user_id}}),z=(0,n.useMemo)((()=>!!l&&((h||[]).includes(l.country)||l.advertiser&&l.advertiser.shopify_organic_attribution_enabled||T&&T.is_verified_merchant)),[h,l,T]),L=(0,n.useCallback)((s=>{const n=e&&e.id||null,r=t?s:m._Ow+s;if(n||x){const e={};return n&&(e.advertiserId=n),S&&x&&(e.managedClientId=x),(0,i.Z)(r,e)}return r}),[e,t,x,S]),R=e=>{S&&x&&E(x),(0,u.l)(o,e,s)};return(0,d.jsxs)("ul",{className:a.cF,children:[(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"analyticsOverview",dataElementType:10094,isExperimentActivated:v,forceUrlNavigation:!0,href:L("/overview/"),onClick:()=>{R(10094)},content:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Overview", "Overview", "[m10n]proPartnerHeader.analyticsMenuContent.overviewMenuItem", undefined, true)})})},"overview"),(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"analyticsAudienceInsights",dataElementType:10411,isExperimentActivated:v,forceUrlNavigation:!0,href:L("/audience-insights/"),onClick:()=>{R(10411)},content:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Audience Insights", "Audience Insights", "[m10n]proPartnerHeader.analyticsMenuContent.audienceInsightsMenuItem", undefined, true)})})},"audience-insights"),z&&(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"analyticsConversionInsights",dataElementType:11560,isExperimentActivated:v,href:L("/conversion-insights/"),forceUrlNavigation:!0,onClick:()=>{R(11560)},content:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Conversion Insights", "Conversion Insights", "[m10n]proPartnerHeader.analyticsMenuContent.conversionInsightsMenuItem", undefined, true)})}),(0,d.jsx)(c.xu,{marginTop:-1,children:(0,d.jsx)(c.Ct,{text:r.bt("Beta", "Beta", "[m10n]analyticsMenuContent.conversionInsightsMenuItem.badge", undefined, true)})})]})})},"conversions"),(0,d.jsx)("li",{children:(0,d.jsx)(_,{dataTestId:"trends",dataElementType:11655,isExperimentActivated:v,forceUrlNavigation:!0,href:m.iYw,onClick:(0,u.l)(o,11655,s),content:(0,d.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Trends", "Trends", "[m10n]proPartnerHeader.analyticsMenuContent.trendsMenuItem", undefined, true)})})})})},"trends")]})}function L({advertiser:e,isAdsSite:t,isAnalyticsSite:s,user:i}){const{logContextEvent:r}=(0,A.v)(),o=(0,f.ZP)(),l=(0,n.useRef)(null),[_,u]=(0,n.useState)(!1);const h=i&&i.is_partner;return t||s||h?(0,d.jsxs)(c.xu,{"data-test-id":"analyticsButton",paddingX:a.Lz,ref:l,children:[(0,d.jsx)(c.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:o.bt("Analytics menu button", "Analytics menu button", "proPartnerHeader.analyticsMenu.button", undefined, true),color:"white",iconEnd:"arrow-down",onClick:function(){u(!_),r({event_type:101,component:10039,element:10093})},selected:_,size:"lg",text:o.bt("Analytics", "Analytics", "proPartnerHeader.analyticsMenu.title", undefined, true)}),_&&(0,d.jsx)(c.J2,{anchor:l.current,idealDirection:"down",onDismiss:()=>u(!1),children:(0,d.jsx)(z,{advertiser:e,isAnalyticsSite:s,onItemClick:()=>{u(!1)}})})]}):null}var R=s(385269),M=s(141452),U=s(941646);function j({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:s,onMenuItemClick:n}){var i;const r=(0,f.ZP)(),o=(0,O.B)(),l=null===(i=o.advertiser)||void 0===i?void 0:i.id;return(0,d.jsxs)("ul",{className:a.cF,children:[(0,d.jsx)("li",{children:(0,d.jsx)(U.Z,{id:"business-hub",children:(0,d.jsx)(c.iP,{role:"link",onTap:({event:e})=>{n("business hub"),e.stopPropagation()},href:(0,M.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:s,path:"/business/hub",advertiserId:l,requestContext:o}),rounding:2,children:(0,d.jsx)("div",{className:a.Qg,children:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Business hub", "Business hub", "proPartnerHeader.businessMenuController.businessMenuContent", undefined, true)})})})})},"business-hub"),(0,d.jsx)("li",{children:(0,d.jsx)(U.Z,{id:"homefeed",children:(0,d.jsx)(c.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),n("homefeed")},href:(0,M.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:s,path:"/homefeed/",requestContext:o}),rounding:2,children:(0,d.jsx)("div",{className:a.Qg,children:(0,d.jsx)(c.xv,{weight:"bold",children:r.bt("Home feed", "Home feed", "proPartnerHeaderPartner.businessMenuController.businessMenuContent", undefined, true)})})})})},"homefeed")]})}function k({advertiser:e,isAdsSite:t,isAnalyticsSite:s,isTrendsSite:i,isInPinterestSupportToolView:r}){const{logContextEvent:o}=(0,A.v)(),l=(0,f.ZP)(),_=(0,n.useRef)(null),[u,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),{isInBiznuxFullscreen:g}=(0,R.J)();let P="transparent";return u?P="#111111":p&&(P="#F0F0F0"),(0,d.jsx)(c.xu,{paddingX:a.Lz,ref:_,children:r?(0,d.jsx)(c.JO,{icon:"pinterest",accessibilityLabel:l.bt("Pinterest", "Pinterest", "proPartnerHeader.partnerBadge.pinterestIcon", undefined, true),color:"brandPrimary",size:24}):(0,d.jsx)(c.iP,{onMouseEnter:()=>m(!p),onMouseLeave:()=>m(!p),onTap:()=>{h(!u),o({event_type:101,element:11806})},rounding:"pill",disabled:!!g,children:(0,d.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P}},display:"flex",minHeight:48,padding:2,rounding:"pill",children:[(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.JO,{accessibilityLabel:l.bt("Pinterest", "Pinterest", "proPartnerHeader.partnerBadge.pinterestIcon", undefined, true),color:u?"inverse":"brandPrimary",icon:"pinterest",size:24})}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.xv,{color:u?"inverse":"default",weight:"bold",children:l.bt("Business", "Business", "proPartnerHeader.partnerBadge", undefined, true)})}),!g&&(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.JO,{accessibilityLabel:l.bt("Business badge dropdown menu button", "Business badge dropdown menu button", "proPartnerHeader.partnerBadge.dropdownIcon", undefined, true),color:u?"inverse":"default",icon:"arrow-down",size:12})}),u&&(0,d.jsx)(c.J2,{anchor:_.current,idealDirection:"down",onDismiss:()=>h(!1),children:(0,d.jsx)(j,{advertiser:e,isAdsSite:t,isAnalyticsSite:s,isTrendsSite:i,onMenuItemClick:e=>{let t;h(!1),m(!1),"business hub"===e?t=11808:"homefeed"===e&&(t=11807),o({event_type:101,element:t})}})})]})})})}var D=s(146691),N=s(333312),B=s(869636),F=s(781153);const G=new c.Ry(1e3);function Z({anchor:e,children:t,color:s,idealDirection:n,onDismiss:i,positionRelativeToAnchor:r,showCaret:o,shouldFocus:l,size:a}){return(0,d.jsx)(F.Z,{children:(0,d.jsx)(c.xu,{zIndex:G,children:(0,d.jsx)(c.J2,{anchor:e,color:s,idealDirection:n,onDismiss:i,positionRelativeToAnchor:r,showCaret:o,shouldFocus:l,size:a,children:t})})})}var H=s(497529),Y=s(276775);function V(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const $=1000109;class W extends n.PureComponent{constructor(...e){super(...e),V(this,"state",{CreateMenuContent:null,CreateMenuModals:null,showReportBug:!1,showStoryPinAccess:!1,StoryPinAccessModal:null,showFlyout:!1}),V(this,"buttonRef",(0,n.createRef)()),V(this,"containerRef",(0,n.createRef)()),V(this,"mounted",!1),V(this,"showReportBugModal",(()=>{this.setState({showReportBug:!0,showFlyout:!1})})),V(this,"clearModal",(()=>{this.setState({showReportBug:!1,showStoryPinAccess:!1,showFlyout:!1})})),V(this,"hideFlyout",(()=>{this.setState({showFlyout:!1})})),V(this,"canRender",(()=>{const{isAuthenticated:e,user:t}=this.props,s=t&&t.is_partner;return e&&s})),V(this,"handleStoryPinRequestAccessMenuItemClick",(()=>{this.props.logContextEvent({event_type:101,component:10039,element:12231}),this.setState({showStoryPinAccess:!0,showFlyout:!1})})),V(this,"handleClick",(()=>{const{experience:e,experienceClient:t}=this.props,{showFlyout:s}=this.state;this.props.logContextEvent({event_type:101,component:10039,element:10064}),!s&&e&&t.completeExperience($,e.experience_id),this.setState((e=>({showFlyout:!e.showFlyout})))}))}componentDidMount(){this.mounted=!0,this.canRender()&&(s.e(73932).then(s.bind(s,428513)).then((e=>{this.mounted&&this.setState({CreateMenuContent:e.default})})),s.e(5445).then(s.bind(s,462136)).then((e=>{this.mounted&&this.setState({CreateMenuModals:e.default})})),Promise.resolve().then(s.bind(s,375728)).then((e=>{this.mounted&&this.setState({StoryPinAccessModal:e.default})})))}componentWillUnmount(){this.mounted=!1}render(){const{isSterlingOnSteroids:e,user:t,location:s}=this.props,{CreateMenuContent:i,CreateMenuModals:r,showFlyout:o,showReportBug:l,showStoryPinAccess:_,StoryPinAccessModal:u}=this.state;let h=null;return e&&({outline:0}.backgroundColor="transparent"),this.canRender()&&(h=(0,d.jsxs)(c.xu,{ref:this.containerRef,children:[(0,d.jsx)(c.xu,{"data-test-id":"pro-partner-header-create-menu",paddingX:a.Lz,ref:this.buttonRef,children:(0,d.jsx)(c.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n.bt("Create menu drop-down", "Create menu dropdown", "proPartnerHeader.createMenu.button", undefined, true),color:"white",iconEnd:"arrow-down",onClick:this.handleClick,selected:o,size:"lg",text:this.props.i18n.bt("Create", "Create", "proPartnerHeader.createMenu.title", undefined, true)})}),o&&i?(0,d.jsx)(Z,{anchor:this.buttonRef.current,idealDirection:"down",onDismiss:this.hideFlyout,size:"md",children:(0,d.jsx)(i,{...this.props,showReportBugModal:this.showReportBugModal,showStoryPinRequestAccessModal:this.handleStoryPinRequestAccessMenuItemClick,onClick:this.hideFlyout})},"Flyout"):null,r&&l&&(0,d.jsx)(r,{clearModal:this.clearModal,username:t?t.username:null}),u&&_&&(0,d.jsx)(u,{onDismiss:this.clearModal}),!o&&"/business/onboarding/"!==s.pathname&&(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(N.default,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502449],flyoutSize:"md",idealDirection:"down",placementId:$,textAlign:"center",textWeight:"normal"}),(0,d.jsx)(N.default,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502545],flyoutSize:"md",idealDirection:"down",placementId:$,textAlign:"center",textWeight:"normal"}),(0,d.jsx)(N.default,{anchor:this.containerRef.current,experienceIds:[501923],flyoutSize:"md",fontSize:"100",idealDirection:"down",placementId:$,textOverflow:"normal"})]})]})),h}}function q(e){const{logContextEvent:t}=(0,A.v)(),s=(0,f.ZP)(),n=(0,H.Z)(),{experience:i}=(0,B.Z)($,{pin_id:e.pinId});return(0,d.jsx)(W,{...e,location:(0,Y.useLocation)(),i18n:s,experienceClient:n,experience:i,logContextEvent:t})}var X=s(19121);function K({children:e,path:t=""}){const s=(0,X.Z)(),n={bag:"shop_pins",explore:"discover",home:"",homefeed:"homefeed",profile:s&&s.username||"",search:"search",engagement:"engagement",today:"today",shopping:"your-shop"};return e({page:Object.keys(n).find((e=>n[e]===t.split("/",2)[1]))})}var Q=s(294184),J=s.n(Q),ee=s(272944),te=s(16035),se=s(761038);const ne=function({onClick:e,href:t,isCurrentAccount:s,user:n,dataTestId:i}){const r=(0,f.ZP)(),o=()=>(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.kC,{alignContent:"between",alignItems:"center",gap:{row:2,column:0},children:[(0,d.jsx)(se.Z,{user:n,isCurrentAccount:s}),s&&(0,d.jsx)(c.JO,{color:"default",icon:"check",accessibilityLabel:r.bt("Selected option", "Selected option", "header.accountsOptionsMenu.selectedIcon", undefined, true)})]})});return(0,d.jsx)(U.Z,{id:i||"header_accounts_options_menu_accounts_profile_rep",children:t?(0,d.jsx)(c.iP,{role:"link",onTap:e,href:t,children:(0,d.jsx)(o,{})}):(0,d.jsx)(c.iP,{onTap:e,children:(0,d.jsx)(o,{})})})};var ie=s(307593);function re({accounts:e,closeFlyout:t,handleAccountRepClick:s,handleLinkedAccountSwitch:i,isWwwSite:r}){var o;const{logContextEvent:l}=(0,A.v)(),a=(0,f.ZP)(),_=(0,X.Z)(),u=(0,Y.useHistory)();(0,n.useEffect)((()=>{e.length>1&&l({event_type:13,view_type:234,component:13369,element:12722})}),[l,e]);let h=e.filter((e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness));const p=e.find((e=>e.id===(_.isAuth&&_.id))),g=_.isAuth&&(null===(o=_.partner)||void 0===o?void 0:o.is_linked_business);g&&(h=h.sort((e=>{var t;return null!=p&&null!==(t=p.owners)&&void 0!==t&&t.some((t=>t.id===e.id))?-1:1})));const P=e=>e.businesses&&e.businesses.length?e.businesses.map((t=>_.id!==t.id&&(0,d.jsx)(c.xu,{paddingY:2,children:(0,d.jsx)(ne,{onClick:()=>i(t,e.id),dataTestId:"lba-account-switch-option",user:t})},t.id))):null;return(0,d.jsxs)(c.xu,{padding:4,children:[(0,d.jsx)(c.xv,{size:"100",children:a.bt("Currently in", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true)}),!!p&&(0,d.jsx)(c.xu,{paddingY:4,children:(0,d.jsx)(ne,{onClick:()=>g?i(p,void 0):s(p),href:`/${p.username}/`,user:p,isCurrentAccount:!0},p.id)}),(0,d.jsx)(c.xu,{paddingY:2,children:(0,d.jsx)(c.xv,{size:"100",children:a.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true)})}),p&&P(p),h.map((e=>(_.isAuth&&_.id)!==e.id?(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{paddingY:2,children:(0,d.jsx)(ne,{onClick:()=>s(e),user:e,isCurrentAccount:!1})}),e.businesses.length>0&&(0,d.jsx)(c.xu,{paddingY:2,children:P(e)})]},e.id):null)),r&&(0,d.jsx)(c.xu,{paddingY:3,role:"list",children:(0,d.jsx)(U.Z,{id:"header-menu-add-account",children:(0,d.jsx)(c.iP,{onTap:()=>{(0,ie.CV)("add_account_click",null,"account_switcher_flyout"),t(),u.push(m.ZPm.settings.ADD_SECONDARY_ACCOUNT_PAGE)},children:(0,d.jsx)(c.Zb,{children:(0,d.jsx)(c.xv,{weight:"bold",size:"300",children:a.bt("Add account", "Add account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)})})})})})]})}var oe=s(842469),le=s(124580),ae=s(893209),ce=s(966224),de=s(6637),_e=s(85334),ue=s(12610),he=s(439181);function pe({isWwwSite:e,closeFlyout:t}){const{flushContextEvents:s,logContextEvent:i}=(0,A.v)(),[r,o]=(0,n.useState)(!1),[l,a]=(0,n.useState)(!1),[_,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),{userAccounts:m}=(0,he.N)(),g=(0,X.Z)(),P=(0,_e.Z)();(0,n.useEffect)((()=>((0,ie.CV)("modal.shown"),()=>{(0,ie.CV)("modal.dismiss")})),[]);const C=(e,t)=>{throw(0,ie.z3)(e,"account_switcher_flyout"),u(!1),t};return(0,d.jsxs)(n.Fragment,{children:[_&&(0,d.jsx)(ce.Z,{}),h?(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.Zb,{children:(0,d.jsx)(c.xu,{padding:2,children:(0,d.jsx)(se.Z,{user:h})})}),(0,d.jsx)(oe.Z,{failedAccount:h,handleReauthAccount:()=>{(0,ie.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),p(null),o(!0)},handleRemoveUnauthAccount:e=>{(0,ie.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,ie.RD)(e),p(null)}})]}):(0,d.jsx)(re,{accounts:m,handleAccountRepClick:t=>{g.isAuth&&t.id!==g.id&&(t=>{const{id:n}=t;u(!0),i({event_type:101,component:13369,element:11196}),(0,ie.CV)("switch_account_click",{destination_user_id:n},"account_switcher_flyout");const r={get_user:!0,switch_account:n};le.Z.pause(ue.LU),s(!0),P({creds:r,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(((s={})=>{var i,r;if(null!=s&&null!==(i=s.resource_response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.user){const s=e?(0,te.Z)(t):"/";(0,ie.iS)(s,n,"account_switcher_flyout")}else(0,ie.CV)("no_api_access_token",{destination_user_id:n},"account_switcher_flyout"),(0,ie.z3)(n,"account_switcher_flyout"),p(t),u(!1)}),(e=>{C(n,e)}))})(t)},handleLinkedAccountSwitch:(t,n)=>{const{partner:r}=t;if(u(!0),i({event_type:101,component:13369,element:null!=r&&r.isLinkedBusiness?11195:11194}),le.Z.pause(ue.LU),s(!0),null!=r&&r.isLinkedBusiness){const e={business_id:t.id,get_user:!0,owner_id:n};P({creds:e,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then((e=>{(0,ie.iS)("/",t.id,"account_switcher_flyout")}),(e=>{C(t.id,e)}))}else de.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{g.isAuth&&((0,ie.RD)(g.id),(0,ie.iS)(e?`/${t.username}`:"/",g.id,"account_switcher_flyout"))}),(e=>{g.isAuth&&C(g.id,e)}))},closeFlyout:t,isWwwSite:e}),l&&(0,d.jsx)(ae.default,{onDismiss:()=>{a(!1),t()}}),r&&(0,d.jsx)(ee.Z,{container:"account_switcher_flyout",email:(null==h?void 0:h.email)||"",onClose:()=>o(!1)})]})}var me=s(506708);const Ae=function({children:e,onClick:t=(()=>{}),href:s,dataTestId:n,isExternal:i}){const r=(0,f.ZP)(),o=()=>(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.kC,{justifyContent:"between",alignItems:"center",children:[(0,d.jsx)(c.xv,{weight:"bold",size:"300",children:e}),i&&(0,d.jsx)(c.JO,{accessibilityLabel:r.bt("Indicator of external link", "Indicator of external link", "header.accounts.options.menu.item.rep.link.indicator", undefined, true),icon:"arrow-up-right",color:"default",size:12})]})});return(0,d.jsx)(U.Z,{id:n||"header_accounts_options_menu_item_rep",children:(0,d.jsx)(c.xu,{paddingY:2,role:"listitem",children:s?(0,d.jsx)(c.iP,{role:"link",href:s,rel:i?"nofollow":void 0,target:i?"blank":void 0,onTap:t,children:(0,d.jsx)(o,{})}):(0,d.jsx)(c.iP,{onTap:t,children:(0,d.jsx)(o,{})})})})};var ge=s(551327),Pe=s(511851);function Ce(e){const{logContextEvent:t}=(0,A.v)(),s=(0,f.ZP)(),{checkExperiment:n}=(0,g.F)(),{advertiser:i,closeFlyout:r,isAdsSite:o,isAdsNavMenuEnabled:a,isAnalyticsSite:_,isTrendsSite:u,isWwwSite:h,onStoryPinRequestAccessMenuItemClick:p}=e,{anyEnabled:P}=n("web_android_ios_story_pin_access"),{anyEnabled:C}=n("web_story_pin_creator"),{anyEnabled:E}=n("web_pinterest_tv_creator_studio_entry_points"),b=(0,X.Z)(),y=b.isAuth&&!!b.isEmployee,{handleShowReportBugModal:x}=(0,Pe.Z)(),v=(0,ge.Z)(),{isLoaded:S,data:T}=(0,w.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{content_claiming_access:I=!1}=T||{},O=e=>{t({event_type:101,component:8,element:e}),r()},z=h&&!(o||_||u)?"":m.C00,L=!!b.isAuth&&b.isPartner;return(0,d.jsxs)(c.xu,{paddingX:4,marginBottom:3,role:"list",children:[P&&!C&&(0,d.jsx)(Ae,{onClick:p,children:s.bt("Request access to Idea Pins", "Request access to Idea Pins", "partnerHeader.accountsOptionsMenu.ideaPinsRequestAccess", undefined, false)}),(0,d.jsx)(c.xu,{paddingY:2,children:(0,d.jsx)(c.xv,{size:"100",children:s.bt("More options", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true)})}),S&&I&&(0,d.jsx)(Ae,{href:"/content-claiming",children:s.bt("Content Claiming Portal", "Content Claiming Portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)}),y&&(0,d.jsx)(Ae,{onClick:()=>{x(),r()},children:s.bt("Report a bug", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-settings",onClick:()=>O(247),href:`${z}/settings`,children:s.bt("Settings", "Settings", "header.accountsOptionsMenu.settings", undefined, true)}),L&&(0,d.jsx)(Ae,{onClick:()=>O(11719),href:`https://${(0,me.Z)()}/business/business-access/`,dataTestId:"header-menu-options-business-access",children:s.bt("Business Access", "Business Access", "Link to business Access Landing Page", undefined, true)}),L&&E&&(0,d.jsxs)(Ae,{href:`${z}/tv/studio/`,dataTestId:"header-menu-options-creator-studio",onClick:()=>{t({event_type:10218,view_type:588,element:13290,aux_data:{elementId:"header-menu-options-creator-studio"}}),r()},children:[(0,d.jsx)(c.xu,{display:"inlineBlock",marginEnd:2,children:s.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)}),(0,d.jsx)(c.Ct,{text:s.bt("Beta", "Beta", "partner.nav.creatorStudio.betaBadage", undefined, true)})]}),(0,d.jsx)(Ae,{onClick:()=>O(11345),href:`${z}/edit`,children:s.bt("Tune your home feed", "Tune your home feed", "header.accountsOptionsMenu.homefeedTuner", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-privacy",onClick:()=>O(13334),href:`${z}/settings/privacy`,children:s.bt("Your privacy rights", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)}),(o||a)&&(R=7,!i||(0,l.Z)((i||{}).actions||[],R))&&(0,d.jsx)(Ae,{dataTestId:"header-menu-options-ads-support",onClick:()=>O(10106),href:m.JbB,isExternal:!0,children:s.bt("Ads support", "Ads support", "header.aaccountsOptionsMenu.adsSupport", undefined, true)}),(0,d.jsx)(Ae,{onClick:()=>O(11200),href:m.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",isExternal:!0,children:s.bt("Request a feature", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-help",onClick:()=>O(8002),href:`${m.gOE}?source=gear_menu_web`,isExternal:!0,children:s.bt("Get help", "Get help", "header.accountsOptionsMenu.getHelp", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-tos",onClick:()=>O(61),href:m.U5h,isExternal:!0,children:s.bt("See Terms of Service", "See terms of service", "header.accountsOptionsMenu.tos", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-privacy",onClick:()=>O(8004),href:m.R_9,isExternal:!0,children:s.bt("See Privacy Policy", "See privacy policy", "header.accountsOptionsMenu.privacy", undefined, true)}),(0,d.jsx)(Ae,{dataTestId:"header-menu-options-logout",onClick:v,children:s.bt("Log out", "Log out", "header.accountsOptionsMenu.logout", undefined, true)})]});var R}function Ee(e){const{advertiser:t,closeFlyout:s,isAdsSite:n,isAdsNavMenuEnabled:i,isAnalyticsSite:r,isTrendsSite:o,isManagedAdvertiser:l,isWwwSite:a,onStoryPinRequestAccessMenuItemClick:_,user:u}=e,h=a||r||n;return(0,d.jsxs)(c.xu,{maxWidth:360,minWidth:180,width:"100%",children:[h&&(0,d.jsx)(pe,{closeFlyout:s,isWwwSite:a}),(0,d.jsx)(Ce,{advertiser:t,closeFlyout:s,isAdsNavMenuEnabled:i,isAdsSite:n,isAnalyticsSite:r,isTrendsSite:o,isManagedAdvertiser:l,isWwwSite:a,onStoryPinRequestAccessMenuItemClick:_,user:u})]})}var fe=s(201819);function be(e){const t=(0,X.Z)(),{data:s}=(0,fe.iY)();(0,n.useEffect)((()=>(t.isAuth&&(0,ie.Mt)(t,s),()=>{(0,ie.CV)("flyout.dismiss")})),[]);const{advertiser:i,anchor:r,isAdsSite:o,isAdsNavMenuEnabled:l,isAnalyticsSite:a,isTrendsSite:c,isManagedAdvertiser:_,isWwwSite:u,onDismiss:h,onStoryPinRequestAccessMenuItemClick:p,user:m}=e;return(0,d.jsx)(Z,{anchor:r,idealDirection:"down",onDismiss:h,size:292,children:(0,d.jsx)(Ee,{advertiser:i,closeFlyout:h,isAdsNavMenuEnabled:l,isAdsSite:o,isAnalyticsSite:a,isTrendsSite:c,isManagedAdvertiser:_,isWwwSite:u,onStoryPinRequestAccessMenuItemClick:p,user:m})})}var ye=s(375728),xe=s(53987),ve=s(539278),Se=s(343341);function Te(e){const{logContextEvent:t}=(0,A.v)(),s=(0,f.ZP)(),{showAccountMenuFlyout:i,updateHeaderState:r}=(0,R.J)(),o=(0,Y.useLocation)(),l=(0,Y.useHistory)(),a=(0,Se.F9)(),_=(0,X.Z)();(0,n.useEffect)((()=>{(0,ve.rL)({showOneToast:a.showOneToast,i18n:s,location:o,history:l,username:_.username||"",fullName:_.fullName||"",avatarUrl:_.imageMediumUrl||""})}),[]);const u=e=>{r({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[h,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),P=(0,n.useRef)(),{advertiser:C,isAdsSite:E,isAdsNavMenuEnabled:b,isAnalyticsSite:y,isTrendsSite:x,isManagedAdvertiser:v,isWwwSite:S,user:T}=e;return(0,n.useEffect)((()=>{_.partner&&_.partner.is_linked_business&&p(!0)}),[]),(0,d.jsxs)(Pe.j,{children:[(0,d.jsx)(c.xu,{ref:P,"data-test-id":"header-accounts-options-button",children:(0,d.jsx)(c.hU,{accessibilityLabel:s.bt("Accounts and more options", "Accounts and more options", "header.accountsOptionsMenu.accountsOptionsMenuButton", undefined, true),icon:"arrow-down",iconColor:i?"darkGray":"gray",onClick:()=>{u(!i),p(!1)},size:"xs"})}),m&&(0,d.jsx)(ye.default,{onDismiss:()=>g(!1)}),i&&(0,d.jsx)(U.Z,{id:"HeaderAccountsOptionsFlyout",children:(0,d.jsx)(be,{advertiser:C,anchor:P.current,isAdsNavMenuEnabled:b,isAdsSite:E,isAnalyticsSite:y,isTrendsSite:x,isManagedAdvertiser:v,isWwwSite:S,onDismiss:()=>u(!1),onStoryPinRequestAccessMenuItemClick:()=>{t({event_type:101,element:12231,view_type:7}),g(!0)},user:T})}),h&&(0,d.jsx)(U.Z,{id:"LinkedBusinessAccountFlyout",children:(0,d.jsx)(N.default,{anchor:P.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,xe.LO)(o)&&(0,d.jsx)(N.default,{anchor:P.current,idealDirection:"left",experienceIds:[503137],placementId:1000303})]})}var we=s(649869),Ie=s(172931),Oe=(s(237215),s(53090)),ze=s(172071),Le=s(917394),Re=s(389643),Me=s(898708),Ue=s(852260),je=s(349700),ke=s(869899);const De=({label:e,imgUrl:t,subtext:s,subtextColor:n})=>(0,d.jsxs)(c.kC,{gap:{row:3,column:0},width:"100%",children:[(0,d.jsx)(c.qE,{name:e,src:t,size:"sm"}),(0,d.jsxs)(c.kC,{gap:{row:0,column:1},direction:"column",children:[(0,d.jsx)(c.xv,{weight:"bold",size:"200",children:e}),(0,d.jsx)(c.xv,{size:"100",color:n||"subtle",children:s})]})]}),Ne=()=>{var e,t,s,i,r;const{logContextEvent:o}=(0,A.v)(),l=(0,f.ZP)(),a=(0,ke.useRoleBasedAccessControlContext)(),[_,u]=(0,n.useState)(!1),h=(0,Re.Z)(null!==(e=null==a?void 0:a.profiles)&&void 0!==e?e:[]),p=(0,n.useRef)(null),{push:m}=(0,Y.useHistory)(),g=(0,Y.useLocation)(),P=(0,X.Z)(),C=new c.Ry(10);if(!1===P.isAuth||void 0===a)return null;const{profiles:E=[],changeProfile:b,activeProfile:y}=a;if(!y)return null;const{id:x,user:{username:v,businessName:S="",imgUrl:T}={}}=y,w={value:x,label:S},I=x===P.id,O=e=>()=>{if("string"==typeof h&&h!==e)if(e===P.id)o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,page_url:`/${P.username}/`,user_action_status:"changeProfile",user_id:P.id,profile_id:e}}),m(`/${P.username}/`);else{const{user:{username:t}={}}=E.find(((t={})=>(null==t?void 0:t.id)===e))||{};o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,page_url:`/${t}/`,user_action_status:"changeProfile",user_id:P.id,profile_id:e}}),m(`/${t}/`)}else o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,user_action_status:"changeProfile",user_id:P.id,profile_id:e}}),b(e);o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,user_action_status:"close",user_id:P.id}}),u(!1)};return(0,d.jsx)(c.xu,{"data-test-id":"orbac-profile-selector",children:(0,d.jsxs)(c.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,d.jsx)(c.xu,{ref:p,children:(0,d.jsx)(c.iP,{role:"link",href:`/${v}/`,children:(0,d.jsx)(c.qE,{name:S,src:T,size:"sm"})})}),(0,d.jsx)(c.zx,{size:"md",color:"gray",text:(0,je.nk)(l.bt("Working on: {{profile}}", "Working on: {{profile}}", "[m10n]bizAccess.orbacHeader.selector", undefined, true),{profile:I?l.bt("Your profile", "Your profile", "[m10n]bizAccess.orbacHeader.yourProfile", undefined, true):S}).join(""),iconEnd:_?"arrow-up":"arrow-down",onClick:()=>{o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,user_action_status:_?"close":"open",user_id:P.id}}),u(!_)}}),(0,d.jsx)(Le.Z,{}),_&&(0,d.jsxs)(c.Lt,{zIndex:C,anchor:p.current,id:"rbac-profile-dropdown",onDismiss:()=>{o({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:g.pathname,user_action_status:"close",user_id:P.id}}),u(!1)},children:[(0,d.jsx)(c.Lt.Section,{label:l.bt("Your profile", "Your profile", "[m10n]bizAccess.orbacHeader.yourProfile", undefined, true),children:P&&[(0,d.jsx)(c.Lt.Item,{onSelect:O(P.id),option:{value:P.id,label:null!==(t=null!==(s=P.firstName)&&void 0!==s?s:P.fullName)&&void 0!==t?t:P.username},selected:w,children:(0,d.jsx)(De,{subtext:l.bt("Owner", "Owner", "[m10n]bizAccess.orbacHeader.dropdown.profileOwner", undefined, true),imgUrl:P.imageSmallUrl,label:null!==(i=null!==(r=P.firstName)&&void 0!==r?r:P.fullName)&&void 0!==i?i:P.username})},P.id)]}),(0,d.jsx)(c.Lt.Section,{label:l.bt("Switch to profiles shared with you", "Switch to profiles shared with you", "[m10n]bizAccess.orbacHeader.dropdown.otherProfilesHeader", undefined, true),children:[...E.map((e=>{if(!e)return null;const{id:t,user:{businessName:s,imgUrl:n},permissions:i,viewerMeetsMfaRequirement:r}=e;return(0,d.jsx)(c.Lt.Item,{onSelect:r?O(t):()=>{},option:{value:t,label:s},selected:w,children:(0,d.jsx)(De,{imgUrl:n,label:s,subtext:r?i.map((0,Me.e6)(l)).join((0,Ue.bH)(l)):l.bt("Two-factor authentication required", "Two-factor authentication required", "[m10n]bizAccess.orbacHeader.dropdown.mfaEnforcement", undefined, true),subtextColor:r?void 0:"error"})},t)}))]})]})]})})};var Be=s(62922),Fe=s(934523);const Ge=()=>{const{logContextEvent:e}=(0,A.v)(),t=(0,f.ZP)(),{checkExperiment:s}=(0,g.F)(),i=(0,ke.useRoleBasedAccessControlContext)(),r=(0,Be.Z)(),{headerVisible:o=!1,activeProfile:l}=i||{},a=null==l?void 0:l.id,_=s("web_m10n_business_access_orbac_www").anyEnabled,u=(0,Y.useLocation)(),h=(0,X.Z)(),p=h.isAuth&&h.id;return(0,n.useEffect)((()=>{_&&o&&(ze.Z.increment("web.business_access.orbac.header.view",1),e({event_type:13,view_type:465,component:13653,aux_data:{business_id:a,session_id:r}}))}),[e,r,a,o,_]),_&&o?(0,d.jsx)(c.xu,{width:"100%",color:"default","data-test-id":"rbac-header-background",children:(0,d.jsxs)(c.xu,{display:"flex",smMarginEnd:4,smMarginStart:4,alignItems:"center",justifyContent:"between",height:Fe.hu,children:[(0,d.jsx)(Ne,{}),(0,d.jsx)(c.kC,{justifyContent:"between",gap:{row:2,column:0},alignItems:"center",children:(0,d.jsx)(c.zx,{role:"link",size:"md",color:"transparent",text:t.bt("Back to Business Access", "Back to Business Access", "[m10n]bizAccess.orbacHeader", undefined, true),onClick:()=>{e({event_type:9709,element:11719,component:13944,aux_data:{element_id:"Back to business access",component_id:"ORBAC Header",current_page_url:u.pathname,user_id:p}})},href:"/business/business-access/"})})]})}):null};var Ze=s(749454),He=s(542197),Ye=s(717615),Ve=s(49023),$e=s(7893),We=s(224525);function qe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Xe=72;class Ke extends n.Component{constructor(...e){super(...e),qe(this,"state",{showSearchIconOnly:!0}),qe(this,"fetchUserAccounts",(()=>{const{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,$e.dD)(t).then((t=>{e(t)}))})),qe(this,"isActionPermitted",(e=>{const{legacyServerContext:t}=this.props;return!(!t.is_authenticated||t.advertiser)||(0,l.Z)((t.advertiser||{}).actions||[],e)})),qe(this,"profileRef",(0,n.createRef)())}componentDidMount(){this.fetchUserAccounts()}isSterlingSite(e){return"STERLING"===e}isAnalyticsSite(e){return"ANALYTICS"===e}isTrendsSite(e){return"TRENDS"===e}render(){const{activeORBACProfile:e,isFlyOutMenuUnificationExperiment:t,advertiserSwitcherDropdown:s,businessUser:i,currentSite:r,className:o,history:l,isShoppingCatalogs:a,isInBiznuxFullscreen:_,legacyServerContext:u,location:h,nags:p,suppressSearchBox:A,user:g,pstContext:P,viewer:C}=this.props,E=h.pathname.split("/");let f;4===E.length&&"pin"===E[1]&&E[2].length>10&&(f=E[2]);const b=g&&g.data&&g.data.pin_count,{showSearchIconOnly:y}=this.state,{advertiser:x,is_sterling_on_steroids:v,is_managed_advertiser:S,sterling_on_steroids_ldap:w,sterling_on_steroids_user_type:I,user:O}=u,z=this.isSterlingSite(r),R=this.isAnalyticsSite(r),M=this.isTrendsSite(r),U=(u.enabled_advertiser_countries||[]).includes(u.user.country),j=v&&O&&O.is_partner,N=(0,We.HF)();let B=(0,We.Kn)({redirect:(0,We.HF)()}),F=(0,We.Kn)();z||(B=m.auO+B,F=m.auO+F);const G=this.isActionPermitted(5),Z=!(z||R||v||M),H=Z&&!S&&void 0!==b&&(b||0)>0,Y=h.pathname!==N,V=!!O.domain_verified&&!!O.domain_url,$=g&&g.data&&g.data.show_engagement_tab,W=this.props.i18n.bt("You ({{ldap}}) are viewing: {{name}}", "You ({{ldap}}) are viewing: {{name}}", "[m10n]adminMode.impersonationLabel.sosV1", undefined, true),{managedBusinesses:X}=P||{},Q=!!X&&C.has_mfa_enabled;return(0,d.jsx)("div",{className:J()(o,{PartnerHeader:j}),children:(0,d.jsx)(K,{path:h.pathname,children:({page:o})=>(0,d.jsxs)(c.xu,{color:"default",column:12,children:[p,(0,d.jsx)(c.xu,{children:(0,d.jsx)("div",{className:J()({adminModeBackground:j}),children:(0,d.jsx)(c.xu,{"data-test-id":"pro-partner-header",paddingX:3,paddingY:1,children:(0,d.jsxs)(c.xu,{alignItems:"center","aria-label":this.props.i18n.bt("Primary navigation header", "Primary navigation header", "[m10n]proPartnerHeader.label", undefined, true),column:12,display:"flex",height:Xe,role:"navigation",children:[(0,d.jsx)(k,{advertiser:x,isAdsSite:z,isAnalyticsSite:R,isTrendsSite:M,isInPinterestSupportToolView:Q}),(G||e&&e.id)&&!Q&&!_&&(0,d.jsx)(q,{advertiser:x,eligibleForQuickPromotePinSelection:H,isAdsNavMenuEnabled:U,isAdsSite:z,isAnalyticsSite:R,isTrendsSite:M,isAuthenticated:u.is_authenticated,isSterlingOnSteroids:v,isWwwSite:Z,pinId:f,user:O},"CreateMenuController"),this.isActionPermitted(55)&&!_&&(0,d.jsx)(L,{advertiser:x,isAdsSite:z,isAnalyticsSite:R,user:O}),(this.isActionPermitted(11)||this.isActionPermitted(32))&&!_&&(0,d.jsx)(T,{advertiser:x,isAdsNavMenuEnabled:U,isAdsSite:z,isShoppingCatalogs:a}),!Q&&s,A||_?(0,d.jsx)(c.xu,{flex:"grow"}):l.push&&(0,d.jsx)(He.Z,{isPartner:!0,handleIconOnlyChange:e=>this.setState({showSearchIconOnly:e}),iconOnly:y,widthType:"sm"}),v&&(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.xv,{weight:"bold",children:(0,je.nk)(W,{ldap:w,name:x?x.name:O.full_name})}),2===I&&(0,d.jsx)(c.xv,{weight:"bold",children:"Read only (#sos-oncall)"}),Y&&(0,d.jsx)(c.xu,{marginStart:2,marginEnd:2,children:(0,d.jsx)(c.rU,{href:B,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,d.jsx)(c.zx,{size:"sm",text:this.props.i18n.bt("Admin dashboard", "Admin Dashboard", "[m10n]", undefined, true)})})}),(0,d.jsx)(c.xu,{marginStart:Y?0:2,children:(0,d.jsx)(c.rU,{href:F,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,d.jsx)(c.zx,{color:"red",size:"sm",text:this.props.i18n.bt("Exit admin mode", "Exit Admin Mode", "[m10n]", undefined, true)})})})]}),!_&&(0,d.jsx)(Ve.F,{value:{currentSite:r},children:(0,d.jsx)(D.Z,{})}),Z&&(V||$)&&!_&&(0,d.jsx)(Oe.ZP,{compactMode:!0,isWwwSite:Z,selected:"engagement"===o}),(0,d.jsx)(c.xu,{ref:this.profileRef,children:(0,d.jsx)(Ze.Z,{children:(0,d.jsx)(Ie.Z,{isAdsSite:z,isAnalyticsSite:R,isSelected:"profile"===o,isTrendsSite:M})})}),t?(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(we.Z,{currentSite:r,isSterlingOnSteroids:v,isAdsNavMenuEnabled:U,advertiser:x})}):(0,d.jsx)(Te,{advertiser:x,isAdsNavMenuEnabled:U,isAdsSite:z,isAnalyticsSite:R,isManagedAdvertiser:!!(i&&i.data&&i.data.fast_advertiser_info_has_any_managed_advertisers),isTrendsSite:M,isWwwSite:Z,user:O})]})})})}),(0,d.jsx)(Ge,{})]})})})}}function Qe(e){const{checkExperiment:t}=(0,g.F)(),s=(0,I.u7)(),n=(0,X.Z)(),{isInBiznuxFullscreen:i}=(0,R.J)(),{userAccountsRetrieved:r}=(0,he.N)(),o=(0,C.a)(),{anyEnabled:l}=t("flyout_menu_unification_safety_exp"),a=(0,w.Z)({name:"UserResource",options:{username:n.isAuth?n.username:"",field_set_key:"profile"}}),c=(0,w.Z)({name:"UserResource",options:{user_id:n.isAuth?n.id:"",field_set_key:"linked_partner"}});return(0,d.jsx)(Ke,{...e,activeORBACProfile:(0,Ye.Z)(),isFlyOutMenuUnificationExperiment:l,businessUser:c,history:(0,Y.useHistory)(),i18n:(0,f.ZP)(),isInBiznuxFullscreen:i,legacyServerContext:s,location:(0,Y.useLocation)(),toastManagerContext:(0,Se.F9)(),user:a,userAccountsRetrieved:r,viewer:n,pstContext:o})}},289615:(e,t,s)=>{s.d(t,{AR:()=>o,Lz:()=>r,Qg:()=>i,cF:()=>n});const n="ProPartnerHeaderMenuList",i="proPartnerHeaderMenuItem",r=1,o={id:"",name:"",currency_code:"USD",created_time:0,owner_user_id:"",shopping_retargeting_eligibility:!1,shopify_organic_attribution_enabled:!1,segment_metadata:void 0,owner_user:{full_name:"",username:"",image_medium_url:""},offline_conversion_ga_enabled:!1,ocpm_conversion_window_enabled:!1,modeled_conversion_reporting_enabled:!1,is_story_ads_standalone_allowed:!1,is_story_ads_sponsor_allowed:!1,is_story_ads_product_tags_allowed:!1,is_story_ads_mentions_allowed:!1,is_sterling_prod:!1,is_impersonation:!1,household_conversion_reporting_enabled:!1,enable_shopping_reporting:!1,enable_loi_sapin_modal:!1,bulk_v2_shopping_enabled:!1,ad_groups_enabled:!1,currency:1,country:1,billing_type:0,accepted_tos:[0],actions:[0]}},382891:(e,t,s)=>{s.d(t,{Z:()=>o,m:()=>r});var n=s(719286),i=s(657606);const r=["female","male","unknown"],o=e=>{const{interests:t,ages:s,genders:o,country:l}=e;return{AGE_BUCKET:s||[],APPTYPE:n.jz,GENDER:o||r,INTEREST:(t||[]).map((e=>e.topic_id)),LOCATION:[...new Set((l||i.UF).split("+"))]}}},28543:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var n=s(567831);var i=s(55259),r=s(966113);function o(e,t,s){if(!i.Z[e])throw new Error(`unknown url key: ${e}`);s||(s={});let o=i.Z[e](s);const l=function(e,t){let s=null;return e&&(s=e.advertiserId||null),!s&&t&&(s=t.id),s}(s,t);return"string"==typeof l&&(o="/advertiser/"+l+o),!!s.absolutify&&(o=(0,n.Z)(o,void 0,r.KUo)),o}},21353:(e,t,s)=>{s.d(t,{Z:()=>r});var n=s(702664),i=s(28543);function r(){const e=(0,n.useSelector)((({advertiser:e})=>e));return(t,s)=>(0,i.default)(t,e,s)}},852260:(e,t,s)=>{s.d(t,{BC:()=>a,Hf:()=>c,I9:()=>i,JS:()=>u,MX:()=>h,aV:()=>_,bH:()=>d,hC:()=>o,nD:()=>r,sQ:()=>l});var n=s(349700);const i=e=>e.bt("Cancel", "Cancel", "[m10n]bizAccess.cancel", undefined, true),r=e=>e.bt("Skip", "Skip", "[m10n]bizAccess.skip", undefined, true),o=e=>e.bt("Loading", "Loading", "[m10n]bizAccess.loading", undefined, true),l=e=>e.bt("Something went wrong but we're not sure what. Please get in touch with your Pinterest contact if you keep running into this problem.", "Uh oh! Something went wrong and we're not sure what. Please reach out to your Pinterest contact if you keep running into this problem.", "[m10n]bizAccess.genericError", undefined, true),a=e=>e.bt("Not enough data to display", "Not enough data to display", "[m10n]bizAccess.noDataErrorMessage", undefined, true),c=e=>e.bt("Done", "Done", "[m10n]bizAccess.done", undefined, true),d=e=>e.bt(", ", ", ", "[m10n]bizAccess.separator", undefined, true),_=(e,t="",s,i)=>{const{id:r=""}=e;return r===t?(0,n.nk)(i.bt("{{ name }} (you)", "{{ name }} (You)", "[m10n]bizAccess.strings.you", undefined, true),{name:s}).join(""):s},u=(e,t="",s,n,i)=>n?e.id===t?i.bt("Linked to a personal account", "Linked to a personal account", "[m10n]bizAccess.lba.viewer.email", undefined, true):i.bt("No email address available", "No email address available", "[m10n]bizAccess.lba.employees.email", undefined, true):s,h=(e,t)=>e.length>0&&e.every((e=>"BIZ_ADMIN"===e))?t.nbt(["Manager", "Managers"], e.length, "[m10n]bizAccess.people.roles.admins", true):t.nbt(["Employee", "Employees"], e.length, "[m10n]bizAccess.people.roles.employees", true)},893209:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var n=s(667294),i=s(966224),r=s(121151),o=s(898781),l=s(19121),a=s(349700),c=s(826067),d=s(276775),_=s(439181),u=s(883119),h=s(785893);function p({disableOutsideClick:e,nextUrl:t,onDismiss:s}){const p=(0,o.ZP)(),m=(0,l.Z)(),A=(0,d.useLocation)(),{createLinkedBusinessAccount:g,linkedBusinessCreationLoading:P}=(0,_.N)(),C=()=>{P||s()},E=()=>{s()},f={headingText:p.bt("Create a business account?", "Create a business account?", "linkedBusinessAccountConfirmationModal.heading.bizAccount", undefined, true),headingAccessibilityLabel:p.bt("Create a business account?", "Create a business account?", "linkedBusinessAccountConfirmationModal.headingAccessibilityLabel.bizAccount", undefined, true),iconAccessibilityLabel:p.bt("Do not create a business account", "Do not create a business account", "linkedBusinessAccountConfirmationModal.iconAccessibilityLabel.bizAccount", undefined, true),bodyText:p.bt("A business account helps you run ads, see analytics and share more ideas on Pinterest.", "A business account helps you run ads, see analytics and share more ideas on Pinterest.", "linkedBusinessAccountConfirmationModal.bodyText.bizAccount", undefined, true),pinnerAccountTemplate:p.bt("Not a business? {{link}}", "Not a business? {{link}}", "linkedBusinessAccountConfirmationModal.usePinnerAccountTemplate.bizAccount", undefined, true),pinnerAccountLinkText:p.bt("Use your existing account", "Use your existing account", "linkedBusinessAccountConfirmationModal.usePinnerAccountLinkText.bizAccount", undefined, true)},{headingText:b,headingAccessibilityLabel:y,bodyText:x,pinnerAccountTemplate:v,pinnerAccountLinkText:S}=f;return(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(r.ZP,{accessibilityModalLabel:y,heading:b,footer:(0,h.jsxs)(n.Fragment,{children:[(0,h.jsxs)(u.xu,{marginTop:6,children:[P&&(0,h.jsx)(i.Z,{}),(0,h.jsxs)(u.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginTop:6,children:[(0,h.jsx)(u.xu,{minWidth:120,children:(0,h.jsx)(u.zx,{fullWidth:!0,text:p.bt("Cancel", "Cancel", "LinkedBusinessAccountConfirmationModal.cancelButton.text", undefined, true),onClick:C,color:"gray",size:"lg"})}),(0,h.jsx)(u.xu,{minWidth:120,marginStart:2,children:(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",text:p.bt("Get started", "Get started", "Submit button to create new linked business account", undefined, true),onClick:()=>{const e=m.isAuth?m.firstName||m.lastName:"";if(m.isAuth&&e){const s={businessName:e,nextUrl:t,thirdPartyMarketingTrackingEnabled:m.third_party_marketing_tracking_enabled,thirdPartyApps:A.search&&"shopify"===(0,c.mB)(A.search).utm_source?[0]:[]};g(s).then((()=>{C()}))}},size:"lg"})})]})]}),(0,h.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:4,children:v?(0,a.nk)(v,{link:(0,h.jsx)(u.xu,{marginStart:1,children:(0,h.jsx)(u.iP,{onTap:({event:e})=>{e.preventDefault(),E()},children:(0,h.jsx)(u.rU,{href:"#",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:S})})},"notABusiness")}):(0,h.jsx)(u.xu,{marginStart:1,children:(0,h.jsx)(u.iP,{onTap:({event:e})=>{e.preventDefault(),E()},children:(0,h.jsx)(u.rU,{inline:!0,href:"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:S})})},"notABusiness")})]}),onDismiss:()=>{e||s()},role:"alertdialog",children:(0,h.jsx)(u.xu,{paddingX:4,marginBottom:12,children:(0,h.jsx)(u.xv,{children:x})})})})}},170528:(e,t,s)=>{function n(e,t){if(!Array.isArray(t)){const{[t]:s,...n}=e;return n}const s=new Set(t.flat());return Object.fromEntries(Object.entries(e).filter((([e])=>!s.has(e))))}s.d(t,{Z:()=>n})},134906:(e,t,s)=>{s.d(t,{Bh:()=>d,C9:()=>E,CB:()=>h,CU:()=>o,FU:()=>T,GT:()=>l,Gy:()=>A,J_:()=>x,Jx:()=>p,MZ:()=>g,VC:()=>u,VG:()=>a,ZA:()=>c,Zt:()=>m,a3:()=>w,aH:()=>r,h7:()=>y,nw:()=>C,oR:()=>f,qA:()=>_,qp:()=>v,sG:()=>P,vd:()=>S,xk:()=>b});var n=s(89254);const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},s=String(e).split("");return s.forEach(((e,n)=>{const i=t[e];i&&(s[n]=i)})),s.join("")};function r(e){return function(t,s){const n=[];t&&/\S/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}const o=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,s){const n=[];(t=t&&t.trim()).match(o)||n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function a(e){return function(t,s){const n=[];(t=t&&t.trim()).match(/^[^0-9].*$/)||n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function c(e){return function(t,s){const n=[];if(t){const s=parseInt(t,10);Number.isNaN(s)?n.push(e.invalidAgeString):(e.ageTooShortString&&s<10&&n.push(e.ageTooShortString),s<=0||s>120?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&s<13&&n.push(e.checkUnderAgeWithString))}const i={errors:n,warnings:[]};return s&&s(i),i}}function d(e){return function(t,s){const n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],r=!1!==e.checkLength&&n.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||i.push(e.message);const o={errors:i,warnings:[]};return s&&s(o),o}}function _(e){return function(t,s){const n=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&r.push(e.message));const o={errors:r,warnings:[]};return s&&s(o),o}}function u(e){return function(t,s){const n=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&r.push(e.message));const o={errors:r,warnings:[]};return s&&s(o),o}}const h=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function p(e){return function(t,s){const n=[];t&&!h(t)&&n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function m(e){return function(t,s){const i=[];if(t)try{const s=(0,n.Z)(t);s&&s.protocol&&("http"!==s.protocol||"localhost"===s.hostname)||i.push(e.message)}catch(o){i.push(e.message)}const r={errors:i,warnings:[]};return s&&s(r),r}}function A(e){return function(t,s){const n=[];(e.should_trim||!1)&&(t=t&&t.trim());const i=t.length;e.min&&i<e.min?n.push(e.minErrorString):e.max&&i>e.max&&n.push(e.maxErrorString);const r={errors:n,warnings:[]};return s&&s(r),r}}function g(e){return function(t,s){const n=!e.checkExclusion,i=e.substrings,r=[];(n&&!i.some((e=>t.includes(e)))||!n&&i.some((e=>t.includes(e))))&&r.push(e.message);const o={errors:r,warnings:[]};return s&&s(o),o}}function P(e){return function(t,s){const n=[];t!==(e&&e.targetValue)&&n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function C(e){return function(t,s){const n=[];(t?parseFloat(t):0)<e.value&&n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function E(e){return function(t,s){const n=new Date(t),i=[];e.date instanceof Date&&n instanceof Date&&e.date<n&&i.push(e.message);const r={errors:i,warnings:[]};return s&&s(r),r}}function f(e){return function(t,s){const n=[];/^[\040-\176]*$/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function b(e){return function(t,s){let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}const i=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),r.push(e.message));const o={errors:r,warnings:[]};return s&&s(o),o}}function y(e){return function(t,s){const n=[];Number(t)>=1e13&&n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function x(e){return function(t,s){t=t&&t.trim();const n=[],i=new Date(t);t&&!i.getTime()&&n.push(e.message);const r={errors:n,warnings:[]};return s&&s(r),r}}function v(e){return function(t,s){const n=t&&t.trim(),i=[];n&&!n.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const r={errors:i,warnings:[]};return s&&s(r),r}}function S(e){return function(t,s){const n=[];e.pattern.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return s&&s(i),i}}function T(e,t){const s=e.map((e=>e(t).errors));return[].concat(...s)}function w(e,t){let s="";return t.some((t=>{const n=t(e);return n.errors.length>0&&(s=n.errors[0],!0)})),s}},917394:(e,t,s)=>{s.d(t,{Z:()=>l});var n=s(898781),i=s(883119),r=s(773285),o=s(785893);const l=()=>{const e=(0,n.ZP)(),{checkExperiment:t}=(0,r.F)(),{anyEnabled:s}=t("web_m10n_business_access_orbac_www"),{anyEnabled:l}=t("web_m10n_business_access_orbac_ga");return s||l?l?(0,o.jsx)(i.Ct,{position:"middle",text:e.bt("New", "New", "[m10n]bizAccess.profiles.titleBadge.new", undefined, true)}):(0,o.jsx)(i.Ct,{position:"middle",text:e.bt("Beta", "Beta", "[m10n]bizAccess.profiles.titleBadge.beta", undefined, true)}):null}},898708:(e,t,s)=>{s.d(t,{B:()=>n,To:()=>r,_4:()=>o,e6:()=>i});const n=e=>t=>{const s=(e=>({EMPLOYEE:e.bt("Employee", "Employee", "[m10n]bizAccess.business.people.bizRole", undefined, true),BIZ_ADMIN:e.bt("Manager", "Manager", "[m10n]bizAccess.business.people.role", undefined, true),PARTNER_ADMIN:e.bt("Partner admin", "Partner admin", "[m10n]bizAccess.business.people.bizRole", undefined, true),PARTNER:e.bt("Partner", "Partner", "[m10n]bizAccess.business.people.bizRole", undefined, true),UNKNOWN:e.bt("Unknown", "Unknown", "[m10n]bizAccess.business.people.bizRole", undefined, true)}))(e);return s[t]||s.UNKNOWN},i=e=>t=>{const s=(e=>({NO_ACCESS:e.bt("No access", "No Access", "[m10n]bizAccess.business.people.role", undefined, true),OWNER:e.bt("Account owner", "Account Owner", "[m10n]bizAccess.business.people.role", undefined, true),ADMIN:e.bt("Admin", "Admin", "[m10n]bizAccess.business.people.role", undefined, true),ANALYST:e.bt("Analyst", "Analyst", "[m10n]bizAccess.business.people.role", undefined, true),AUDIENCE_MANAGER:e.bt("Audience", "Audience", "[m10n]bizAccess.business.people.role", undefined, true),FINANCE_MANAGER:e.bt("Finance", "Finance", "[m10n]bizAccess.business.people.role", undefined, true),CAMPAIGN_MANAGER:e.bt("Campaign", "Campaign", "[m10n]bizAccess.business.people.role", undefined, true),SOS_READER:e.bt("Admin mode reader", "Admin Mode Reader", "[m10n]bizAccess.business.people.role", undefined, true),CATALOGS_MANAGER:e.bt("Catalogues", "Catalogs", "[m10n]bizAccess.business.people.role", undefined, true),PROFILE_PUBLISHER:e.bt("Publisher", "Publisher", "[m10n]bizAccess.business.people.roleDisplay.profileManager", undefined, true),UNKNOWN:e.bt("Unknown", "Unknown", "[m10n]bizAccess.business.people.role", undefined, true)}))(e);return s[t]||s.UNKNOWN},r=e=>t=>{const s=(e=>({NO_ACCESS:e.bt("Deny access to this ad account", "Deny access to this ad account", "[m10n]bizAccess.business.people.roleDescription", undefined, true),OWNER:e.bt("Account owner", "Account owner", "[m10n]bizAccess.business.people.role", undefined, true),ADMIN:e.bt("Can create or edit anything in the account such as campaigns, spend limits, bids, budgets, audiences, paid partnership approval and more.", "Can create or edit anything in the account such as campaigns, spend limits, bids, budgets, audiences, paid partnership approval and more.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),ANALYST:e.bt("Can only view ad account data to create reports.", "Can only view ad account data to create reports.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),AUDIENCE_MANAGER:e.bt("Can create or edit audiences and view existing Pinterest tags.", "Can create or edit audiences and view existing Pinterest tags.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),FINANCE_MANAGER:e.bt("Can edit billing information.", "Can edit billing information.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),CAMPAIGN_MANAGER:e.bt("Can create and edit campaigns, ad groups and promoted Pins, pull reports, approve paid partnerships, and create and delete Pins on protected boards for promotional purposes.", "Can create and edit campaigns, ad groups and promoted Pins, pull reports, approve paid partnerships and create and delete Pins on protected boards for promotion purposes.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),CATALOGS_MANAGER:e.bt("Can create and edit data source and product group information.", "Can create and edit data source and product group information.", "[m10n]bizAccess.business.people.roleDescription", undefined, true),PROFILE_PUBLISHER:e.bt("Publishers can create, edit and organise Pins and boards without a business’ prior approval.", "Publishers can create, edit, and organize Pins and boards without a business’s prior approval.", "[m10n]bizAccess.business.people.roleDescription.profileManager", undefined, true),UNKNOWN:e.bt("Unknown", "Unknown", "[m10n]bizAccess.business.people.role", undefined, true)}))(e);return s[t]||s.UNKNOWN},o=(e,t,s)=>{var n,i;const r=s?"business_roles":"biz_roles";return(null===(n=(e||[]).find((({id:e})=>e===t)))||void 0===n||null===(i=n[r])||void 0===i?void 0:i[0])||"OWNER"}},9034:(e,t,s)=>{function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{ZP:()=>l,f7:()=>i,y$:()=>r});const i=" > ",r=(e,t)=>t?`${t}${i}${e}`:e,o=(e,t)=>e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0;const l=class{constructor(){n(this,"nodeMap",{}),n(this,"treeRoot",null),n(this,"getNodeMap",(()=>this.nodeMap)),n(this,"getNode",(e=>this.nodeMap[e]||null)),n(this,"getRoot",(()=>this.treeRoot)),n(this,"getPreOrderListTree",(()=>this.preOrderListTree)),n(this,"getRecursivelyOpenTreeFromNode",(e=>{let t=[];if(e.isExpanded){const s=[],n=e.children||[],i=n.filter((e=>e.numChildren>0)),r=n.filter((e=>0===e.numChildren)),l=i.sort(o),a=r.sort(o);[].concat(a,l).forEach((e=>{const t=this.getNode(e.fullyQualifiedPath);t&&s.push(t)}),this),s.forEach(((e,s)=>{t=t.concat([e],this.getRecursivelyOpenTreeFromNode(e))}),this)}return t})),n(this,"collapseAllChildrenNodes",(e=>{var t;e&&(e.isExpanded=!1,null===(t=e.children)||void 0===t||t.forEach((e=>{this.collapseAllChildrenNodes(e)})))})),n(this,"populatePreOrderListTree",(e=>{const t=[],s=e=>{var n;t.push(e),null===(n=e.children)||void 0===n||n.forEach((e=>{s(e)}))};return s(null!=e?e:this.getRoot()),this.preOrderListTree=t,t})),n(this,"constructChildTree",(({displayName:e,curData:t,parent:s,initialSelectedStatus:n="NOT_SELECTED",selectLeaves:i=!1,ordered:o=!1})=>{const l=r(e,s&&s.fullyQualifiedPath),a={displayName:e,fullyQualifiedPath:l,parent:s,children:null,numChildren:0,numFullySelectedChildren:0,numPartiallySelectedChildren:0,selectedStatus:n,isExpanded:!1,level:s?s.level+1:0,expandOnSelect:!1};if(Object.keys(t).length>0){let e=new Map([...Object.entries(t)]);o&&(e=new Map([...Object.entries(t)].sort()));const s=[];for(const[t,r]of e)s.push(this.constructChildTree({displayName:t,curData:r,parent:a,initialSelectedStatus:n,selectLeaves:i}));a.children=s,a.numChildren=s.length}else i&&(a.selectedStatus="FULLY_SELECTED");return this.nodeMap[l]=a,a})),n(this,"partiallySelect",(e=>{if("NOT_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";const t=e.parent;t&&(t.numPartiallySelectedChildren+=1,this.partiallySelect(t))}})),n(this,"select",((e,t=!1,s=!1,n=!1)=>{if("FULLY_SELECTED"===e.selectedStatus)return e;if(e.children&&!t){const i=n&&!t&&!s;e.children.forEach((e=>this.select(e,!1,!0,i)))}n&&(e.isExpanded=!0);const i=e.parent;return i&&(i.numFullySelectedChildren+=1,"PARTIALLY_SELECTED"===e.selectedStatus&&(i.numPartiallySelectedChildren-=1),s||(i.numFullySelectedChildren===i.numChildren?this.select(i,!0,!1):this.partiallySelect(i))),e.selectedStatus="FULLY_SELECTED",e})),n(this,"partiallyDeselect",(e=>{if("PARTIALLY_SELECTED"!==e.selectedStatus&&"FULLY_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";const t=e.parent;t&&(t.numFullySelectedChildren-=1,t.numPartiallySelectedChildren+=1,"FULLY_SELECTED"===t.selectedStatus&&this.partiallyDeselect(t))}})),n(this,"deselect",((e,t=!1,s=!1)=>{if("NOT_SELECTED"===e.selectedStatus)return e;e.children&&!t&&e.children.forEach((e=>this.deselect(e,!1,!0)));const n=e.parent;return n&&("FULLY_SELECTED"===e.selectedStatus?n.numFullySelectedChildren-=1:"PARTIALLY_SELECTED"===e.selectedStatus&&(n.numPartiallySelectedChildren-=1),s||(0===n.numFullySelectedChildren&&0===n.numPartiallySelectedChildren?this.deselect(n,!0,!1):"FULLY_SELECTED"===e.selectedStatus&&this.partiallyDeselect(n))),e.selectedStatus="NOT_SELECTED",e})),n(this,"updateFilterTree",((e,{expandChildrenOnSelect:t=!0}={})=>{const s=this.getNode(e);s&&("PARTIALLY_SELECTED"===s.selectedStatus||"FULLY_SELECTED"===s.selectedStatus?this.deselect(s):this.select(s,!1,!1,t))})),n(this,"updateTreeWithAPISelectedFilter",((e,t="")=>{if(e){const s=Object.keys(e);if(s.length>0)s.forEach((s=>{const n=e[s],i=r(s,t);this.updateTreeWithAPISelectedFilter(n,i)}));else{const e=this.getNode(t);e&&this.select(e)}}})),n(this,"createShallowTreeFromAPISelectedFilters",((e,t)=>(this.treeRoot=this.constructChildTree({displayName:e,curData:t,parent:null,initialSelectedStatus:"PARTIALLY_SELECTED",selectLeaves:!0}),this.treeRoot))),n(this,"assignNewTree",((e,t)=>{t&&(this.treeRoot=e),this.nodeMap[e.fullyQualifiedPath]=e,e.children&&e.children.forEach((e=>this.assignNewTree(e,!1)))})),n(this,"createFilterTree",((e,t,s=!1)=>(this.treeRoot=this.constructChildTree({displayName:e,curData:t,parent:null,ordered:s}),this.treeRoot)))}}},306732:(e,t,s)=>{s.d(t,{Be:()=>o,CN:()=>V,DD:()=>b,EK:()=>l,Eo:()=>h,F$:()=>$,HK:()=>J,KO:()=>O,MD:()=>R,MU:()=>M,PD:()=>j,QE:()=>x,R0:()=>X,Tj:()=>A,V0:()=>m,Vw:()=>Y,WH:()=>I,XT:()=>C,Y3:()=>c,aF:()=>D,bS:()=>p,cU:()=>y,cm:()=>B,d0:()=>f,eu:()=>u,g2:()=>v,gd:()=>S,gw:()=>H,h8:()=>i,hL:()=>T,hh:()=>E,iu:()=>K,j1:()=>k,k7:()=>Q,kc:()=>_,kl:()=>d,kq:()=>N,l5:()=>g,pF:()=>U,pM:()=>z,pV:()=>P,ps:()=>r,q9:()=>a,qB:()=>Z,qf:()=>ne,r2:()=>W,rC:()=>L,rD:()=>se,ss:()=>ie,t7:()=>te,ul:()=>n,vr:()=>ee,wZ:()=>G,yA:()=>F,yq:()=>w,zq:()=>q});const n={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},i={NEW:"new",USED:"used",REFURBISHED:"refurbished"},r={MALE:"male",FEMALE:"female",UNISEX:"unisex"},o={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},l={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},a=[1,2,3,4,5,6,7,8],c=[1,2,3,4,5,6,8],d=[1,2,3,4,5,6,7,0,8],_=90,u=350,h=72,p=450,m=200,A=12,g=114,P={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},C={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},E={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},f=[E.PRODUCT_CATEGORY,E.PRODUCT_TYPE,E.BRANDS,E.CUSTOM_LABEL_0,E.CUSTOM_LABEL_1,E.CUSTOM_LABEL_2,E.CUSTOM_LABEL_3,E.CUSTOM_LABEL_4],b={[E.ITEM_ID]:["ITEM_ID"],[E.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[E.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[E.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[E.COST]:["MIN_PRICE","MAX_PRICE"],[E.BRANDS]:["BRAND"],[E.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[E.AVAILABILITY]:["AVAILABILITY"],[E.CONDITION]:["CONDITION"],[E.GENDER]:["GENDER"]},y=[E.CUSTOM_LABEL,E.COST,E.CURRENCY],x={1:n.IN_STOCK,2:n.OUT_OF_STOCK,3:n.PREORDER},v={1:i.NEW,2:i.USED,3:i.REFURBISHED},S={1:r.MALE,2:r.FEMALE,3:r.UNISEX},T={1:E.ITEM_ID,5:E.PRODUCT_CATEGORY,12:E.PRODUCT_TYPE,3:E.BRANDS,2:E.AVAILABILITY,17:E.CUSTOM_LABEL_0,18:E.CUSTOM_LABEL_1,19:E.CUSTOM_LABEL_2,20:E.CUSTOM_LABEL_3,21:E.CUSTOM_LABEL_4,4:E.CONDITION,25:E.GENDER,22:E.PRICE,23:E.PRICE,26:E.CURRENCY,24:E.ITEM_GROUP_ID},w={[E.ITEM_ID]:1,[E.PRODUCT_CATEGORY]:5,[E.PRODUCT_TYPE]:12,[E.BRANDS]:3,[E.AVAILABILITY]:2,[E.CUSTOM_LABEL_0]:17,[E.CUSTOM_LABEL_1]:18,[E.CUSTOM_LABEL_2]:19,[E.CUSTOM_LABEL_3]:20,[E.CUSTOM_LABEL_4]:21,[E.CONDITION]:4,[E.GENDER]:25,[E.PRICE]:23,[E.CURRENCY]:26,[E.ITEM_GROUP_ID]:24},I={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},O={[I.GREATER_EXCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!1}},[I.GREATER_INCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!0}},[I.LESS_EXCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!1}},[I.LESS_INCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!0}}},z="newlyCreatedPGId",L="storefront",R={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},M=163,U=350,j={LIST:"LIST",GRID:"GRID"},k="236x",D=50,N="calc(100vh - 277px)",B="calc(100vh - 175px)",F=75,G=200,Z=40,H=127,Y=", ",V=/[\t\n,]+/,$=/[^\t\n,]+/gi,W=/^[\s]+$/,q=/[^\S\t\n]+/,X={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},K=500,Q=20,J=40,ee=100,te=4,se={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ne={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},ie="US"},572621:(e,t,s)=>{s.d(t,{Wq:()=>A,WO:()=>S,vO:()=>v,Lq:()=>O,Nh:()=>L,ii:()=>V,bV:()=>$,sq:()=>Y,P4:()=>g,yY:()=>z,of:()=>C,sk:()=>D,_S:()=>U,Iw:()=>G,i9:()=>x,WU:()=>P,LM:()=>R,l_:()=>H,G6:()=>j,DC:()=>y,RZ:()=>w,$H:()=>T,vC:()=>b,rk:()=>I,eD:()=>k,Ei:()=>f,fG:()=>E,VT:()=>Z,qF:()=>M,J4:()=>F});var n=s(458451);const i={ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26};var r=s(150361),o=s.n(r),l=s(618446),a=s.n(l),c=s(170528),d=s(349700),_=s(957161),u=s(306732),h=s(9034),p=s(134906);const m=e=>u.DD[e]?u.DD[e].map((e=>i[e])):[],A=(e,t)=>({[u.ul.IN_STOCK]:t.bt("in stock", "in stock", "Catalogs.ProductGroups.availabilityType.inStock", undefined, true),[u.ul.OUT_OF_STOCK]:t.bt("out of stock", "out of stock", "Catalogs.ProductGroups.availabilityType.outOfStock", undefined, true),[u.ul.PREORDER]:t.bt("pre-order", "preorder", "Catalogs.ProductGroups.availabilityType.preorder", undefined, true)}[e]),g=(e,t)=>{switch(e){case u.hh.PRODUCT_CATEGORY:return t.bt("Category", "Category", "FilterType.Category.filterType", undefined, true);case u.hh.PRODUCT_TYPE:return t.bt("Product type", "Product type", "FilterType.Product.filterType", undefined, true);case u.hh.COST:return t.bt("Cost", "Cost", "FilterType.Cost.filterType", undefined, true);case u.hh.BRANDS:return t.bt("Brands", "Brands", "FilterType.Brands.filterType", undefined, true);case u.hh.CUSTOM_LABEL:return t.bt("Custom", "Custom", "FilterType.Custom.filterType", undefined, true);case u.hh.ITEM_ID:return t.bt("Item ID", "Item ID", "FilterType.ItemID.filterType", undefined, true);case u.hh.CUSTOM_LABEL_0:return t.bt("Custom label 0", "Custom label 0", "FilterType.CustomLabel0.filterType", undefined, true);case u.hh.CUSTOM_LABEL_1:return t.bt("Custom label 1", "Custom label 1", "FilterType.CustomLabel1.filterType", undefined, true);case u.hh.CUSTOM_LABEL_2:return t.bt("Custom label 2", "Custom label 2", "FilterType.CustomLabel2.filterType", undefined, true);case u.hh.CUSTOM_LABEL_3:return t.bt("Custom label 3", "Custom label 3", "FilterType.CustomLabel3.filterType", undefined, true);case u.hh.CUSTOM_LABEL_4:return t.bt("Custom label 4", "Custom label 4", "FilterType.CustomLabel4.filterType", undefined, true);case u.hh.AVAILABILITY:return t.bt("Availability", "Availability", "FilterType.Availability.filterType", undefined, true);case u.hh.PRICE:return t.bt("Price", "Price", "FilterType.Price.filterType", undefined, true);case u.hh.GENDER:return t.bt("Gender", "Gender", "FilterType.Gender.filterType", undefined, true);case u.hh.CONDITION:return t.bt("Condition", "Condition", "FilterType.Condition.filterType", undefined, true);case u.hh.CURRENCY:return t.bt("Currency", "Currency", "FilterType.Currency.filterType", undefined, true);case u.hh.ITEM_GROUP_ID:return t.bt("Item group ID", "Item group ID", "FilterType.ItemGroupID.filterType", undefined, true);default:return t.bt("Unknown type", "Unknown Type", "FilterType.Unknown.filterType", undefined, true)}},P=(e,t,s,n)=>{if("number"!=typeof t)return"";const i=((e,t)=>23===e?null!=t&&t.inclusion?"<=":"<":22===e?null!=t&&t.inclusion?">=":">":"")(e,s);return(0,d.Wc)(n.bt("Price ({{operator}} {{price}})", "Price ({{operator}} {{price}})", "catalogs.productGroup.filterValueDropdown.selectedValue", undefined, true),{operator:i,price:"number"==typeof t?`${t}`:""})},C=(e,t,s)=>{var i,r,o;switch(t){case 2:return(0,n.Z)(null!==(i=A(u.QE[Number(e)],s))&&void 0!==i?i:s.bt("Unknown type", "Unknown Type", "Catalogs.AvailabilityType.Unknown", undefined, true));case 4:return(0,n.Z)(null!==(r=((e,t)=>({[u.h8.NEW]:t.bt("new", "new", "Catalogs.ProductGroups.contitionType.new", undefined, true),[u.h8.USED]:t.bt("used", "used", "Catalogs.ProductGroups.contitionType.used", undefined, true),[u.h8.REFURBISHED]:t.bt("refurbished", "refurbished", "Catalogs.ProductGroups.contitionType.refurbished", undefined, true)}[e]))(u.g2[Number(e)],s))&&void 0!==r?r:s.bt("Unknown type", "Unknown Type", "Catalogs.ProductGroups.conditionType.Unknown", undefined, true));case 25:return(0,n.Z)(null!==(o=((e,t)=>({[u.ps.MALE]:t.bt("male", "male", "Catalogs.ProductGroups.genderType.male", undefined, true),[u.ps.FEMALE]:t.bt("female", "female", "Catalogs.ProductGroups.genderType.female", undefined, true),[u.ps.UNISEX]:t.bt("unisex", "unisex", "Catalogs.ProductGroups.genderType.unisex", undefined, true)}[e]))(u.gd[Number(e)],s))&&void 0!==o?o:s.bt("Unknown type", "Unknown Type", "Catalogs.ProductGroups.genderType.Unknown", undefined, true));default:return e}},E=(e,t=[])=>e.map(((e,s)=>((e,t=!1,s)=>({displayName:e,checked:t,index:s,key:e}))(e,t.includes(e),s))),f=e=>e?{[u.hh.ITEM_ID]:e[m(u.hh.ITEM_ID)[0]]||[],[u.hh.ITEM_GROUP_ID]:e[m(u.hh.ITEM_GROUP_ID)[0]]||[],[u.hh.PRODUCT_CATEGORY]:e[m(u.hh.PRODUCT_CATEGORY)[0]]||{},[u.hh.PRODUCT_TYPE]:e[m(u.hh.PRODUCT_TYPE)[0]]||{},[u.hh.BRANDS]:e[m(u.hh.BRANDS)[0]]||[],[u.hh.CUSTOM_LABEL_0]:e[m(u.hh.CUSTOM_LABEL)[0]]||[],[u.hh.CUSTOM_LABEL_1]:e[m(u.hh.CUSTOM_LABEL)[1]]||[],[u.hh.CUSTOM_LABEL_2]:e[m(u.hh.CUSTOM_LABEL)[2]]||[],[u.hh.CUSTOM_LABEL_3]:e[m(u.hh.CUSTOM_LABEL)[3]]||[],[u.hh.CUSTOM_LABEL_4]:e[m(u.hh.CUSTOM_LABEL)[4]]||[],[u.hh.AVAILABILITY]:e[m(u.hh.AVAILABILITY)[0]]||[],[u.hh.GENDER]:e[m(u.hh.GENDER)[0]]||[],[u.hh.CONDITION]:e[m(u.hh.CONDITION)[0]]||[]}:{},b=e=>!u.d0.includes(e),y=e=>!u.cU.includes(e),x=e=>{if(!e)return[];const t=[];return u.d0.forEach((s=>{var n,i,r,o,l,a,c;switch(s){case u.hh.PRODUCT_CATEGORY:case u.hh.PRODUCT_TYPE:Object.keys(null!==(n=e[m(s)])&&void 0!==n?n:{}).length>0&&t.push(s);break;case u.hh.CUSTOM_LABEL_0:(null!==(i=e[m(u.hh.CUSTOM_LABEL)[0]])&&void 0!==i?i:[]).length>0&&t.push(s);break;case u.hh.CUSTOM_LABEL_1:(null!==(r=e[m(u.hh.CUSTOM_LABEL)[1]])&&void 0!==r?r:[]).length>0&&t.push(s);break;case u.hh.CUSTOM_LABEL_2:(null!==(o=e[m(u.hh.CUSTOM_LABEL)[2]])&&void 0!==o?o:[]).length>0&&t.push(s);break;case u.hh.CUSTOM_LABEL_3:(null!==(l=e[m(u.hh.CUSTOM_LABEL)[3]])&&void 0!==l?l:[]).length>0&&t.push(s);break;case u.hh.CUSTOM_LABEL_4:(null!==(a=e[m(u.hh.CUSTOM_LABEL)[4]])&&void 0!==a?a:[]).length>0&&t.push(s);break;default:(null!==(c=e[m(s)])&&void 0!==c?c:[]).length>0&&t.push(s)}})),t},v=(e=[],t=null)=>{const s=[];return e.forEach((e=>{if("NOT_SELECTED"!==e.selectedStatus)if("FULLY_SELECTED"!==e.selectedStatus||e!==t&&e.children){if(e.children&&e.children.length){const n=v(e.children,t);n.length&&s.push(...n)}}else s.push(e.fullyQualifiedPath.split(h.f7).slice(1))})),s},S=e=>e.reduce(((e,{displayName:t,checked:s})=>(e.push(...s?[t]:[]),e)),[]),T=e=>[23,22].includes(e),w=e=>[1,24].includes(e),I=e=>[12,5].includes(e),O=({logicalOperator:e,filterOrders:t,filterValueById:s,filterTypeById:n,filterOperatorById:i},r=!1)=>({logical_operator:e,criteria:t.map((e=>{var t,o,l,a;return T(n[e])?{key:n[e],values:s[e],negated:!(null===(o=i[e])||void 0===o||!o.negated),inclusion:!(null===(l=i[e])||void 0===l||!l.inclusion)}:26===n[e]?{key:n[e],values:s[e]}:r&&I(n[e])&&Array.isArray(s[e])?{key:n[e],values:s[e].map((e=>Array.isArray(e)?e:e.split(">").map((e=>e.trim())))),negated:!(null===(a=i[e])||void 0===a||!a.negated)}:{key:n[e],values:s[e],negated:!(null===(t=i[e])||void 0===t||!t.negated)}}))}),z=({filterValueById:e,filterTypeById:t})=>{const s=Object.keys(t).find((e=>26===t[e]));return s?{id:s,value:"string"==typeof e[s]?e[s]:""}:null},L=e=>{const t=z(e);return e.filterOrders.filter((e=>(null==t?void 0:t.id)!==e)).length},R=({filterValueById:e,filterTypeById:t,filterOrders:s})=>s.filter((e=>T(t[e]))).map((t=>({id:t,value:e[t]}))),M=(e,t,s,{customComparator:n,defaultValue:i}={})=>{const r=null!=n?n:(e,t)=>a()(e[s],t[s]),l=(c=t.id,e.find((e=>c===e.id)));var c,d;return l&&!r(t,l)?{...l,[s]:null!==(d=o()(t[s]))&&void 0!==d?d:i}:null},U=(e,t,{omitProps:s=[]}={})=>{let n=!1,i=[];return e.length!==t.length&&(n=!0),i=t.map((t=>{const i=e.find((e=>e.id===t.id));if(!i)return n=!0,{...t};const r=(0,c.Z)(t,s);return a()(r,(0,c.Z)(i,s))?{...i}:(n=!0,{...i,...r})})),n?i:e},j=()=>["pin.description","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x, 236x, 474x, orig]","pin.price_currency","pin.price_value","pin.rich_metadata()","pin.rich_summary()","pin.title"],k=(e,{trimLeft:t=!1,trim:s=!1}={})=>{var n;return(null!==(n=e.match(u.F$))&&void 0!==n?n:[]).filter((e=>!(e=>!e||!!e&&u.r2.test(e))(e))).map((e=>{let n=e;return t&&(n=e.trimLeft()),s&&(n=e.trim()),n}))},D=(e,t,s=!1)=>{return!s&&e.length>t.length?t:!s&&(n=t,u.zq.test(n.slice(-1)))&&e.slice(-2)===u.Vw?e:(e=>u.CN.test(e.slice(-1)))(t)?[...k(t,{trim:!0}),""].join(u.Vw):k(t,{trimLeft:!0,trim:s}).join(u.Vw);var n},N=(e,t)=>(0,p.Gy)({max:u.gw,maxErrorString:(0,d.Wc)(t.bt("The ID with value \"{{id}}\" must have a maximun character length of {{ maxLength }}", "The ID with value \"{{id}}\" must have a maximun character length of {{ maxLength }}", "catalogs.productGroups.itemIDFilter.lengthValidationError", undefined, false),{maxLength:`${u.gw}`,id:e})}),B=(e,t)=>(0,p.a3)(e,[N(e,t)]),F=(e,t)=>{let s="";for(const n of e)if(s=B(n,t),s.length>0)break;return{isValid:!s.length,errorMessage:s}},G=e=>"badge_"+e,Z=e=>{const t=new Date;e.forEach((e=>(0,_.Nh)(G(e),t.getTime()+108e5)))},H=e=>{const t=u.kl.indexOf(e);return-1===t?u.kl.length:t},Y=(e,t)=>t.filter((({name:t,id:s})=>t.toLowerCase().includes(e.toLowerCase())||s.toString().includes(e))),V=e=>e.filter((({feedProfileId:e})=>!e)),$=(e,t)=>t.filter((({country:t})=>t&&t===e))},869899:(e,t,s)=>{s.r(t),s.d(t,{RoleBasedAccessControlProvider:()=>C,useRoleBasedAccessControlContext:()=>P});var n=s(667294),i=s(389643),r=s(784590),o=s(19121),l=s(773285),a=s(425288),c=s(70061);const d=e=>{const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&("object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?t[(0,c.Z)(s)]=e[s]:t[(0,c.Z)(s)]=d(e[s]));return t},_=(e,t)=>{const s=[];for(const r in e)r!==t&&s.push({id:r,...d(e[r])});const n=s.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),i=new Map;for(const r of n)i.set(r.id,r);return i};var u=s(622096);const h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,s]=(0,n.useReducer)(p,h),i=(({dispatch:e,isEnabled:t,state:s})=>{const{orbacVisibility:i,disableProfileChanger:r,headerVisible:o}=s;return{changeProfile:(0,n.useCallback)((s=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:s})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((s=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=s?s:!i})}),[t,e,i]),toggleDisableProfileChanger:(0,n.useCallback)((s=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=s?s:!r})}),[t,e,r]),toggleHeaderVisibility:(0,n.useCallback)((s=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=s?s:!o})}),[t,e,o])}})({dispatch:s,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:o}=t;(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&s({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&s({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacVisibility",o)}),[o]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:i,receiveProfiles:(0,n.useCallback)(((e,t)=>{s({type:"LOAD_PROFILES",payload:_(e,t)})}),[s])}};var A=s(785893);const{Provider:g,useMaybeHook:P}=(0,a.Z)("RoleBasedAccessControlContext"),C=({children:e})=>{const{checkExperiment:t}=(0,l.F)(),s=(0,o.Z)(),a=Boolean(s.isAuth&&s.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:_}=m(a),{activeProfile:u,headerVisible:h,profiles:p=[]}=c,P=p?Array.from(p.values()):[],C=(0,i.Z)(P),E=!!(s.isAuth&&P.length>0)&&C,f=s.isAuth?s.id:"",b=s.isAuth?s.username:"",{changeProfile:y,toggleORBACVisibility:x,toggleDisableProfileChanger:v,toggleHeaderVisibility:S}=d;(0,n.useEffect)((()=>{a&&("string"!=typeof C?u||y(f):y(C))}),[C,f,a,y,u]),(0,n.useEffect)((()=>{a&&(E&&!h&&S(!0),!E&&h&&S(!1))}),[S,E,a,h,p]);const{data:T}=(0,r.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),w=null==T?void 0:T.profiles;let I;s&&s.isAuth&&c.activeProfile===s.id?I={id:s.id,permissions:["OWNER"],user:{username:b,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:u&&c.profiles&&(I=c.profiles.get(u)),(0,n.useEffect)((()=>{w&&_(w,f)}),[_,w,f]);const O=c.profiles?Array.from(c.profiles.values()):[];return(0,A.jsx)(g,{value:{profiles:O,headerVisible:c.headerVisible,activeProfile:I,changeProfile:y,toggleORBACVisibility:x,toggleDisableProfileChanger:v,toggleHeaderVisibility:S},children:e})}},717615:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(389643),i=s(773285),r=s(869899);const o=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,r.useRoleBasedAccessControlContext)(),{activeProfile:s}=t||{},o=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,n.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:a}=e("useorbacroutematcher_in_useorbacactingas");return o?a&&!l?Object.freeze({}):s&&(s.viewerMeetsMfaRequirement||(s.permissions||[]).includes("OWNER"))?s:Object.freeze({}):Object.freeze({})}},389643:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(702664),i=s(19121),r=s(773285),o=s(53987),l=s(276775);const a=e=>{var t;const s=(0,l.useLocation)(),a=(0,i.Z)(),{anyEnabled:c}=(0,r.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,l.useRouteMatch)("/:username"),_=null==d||null===(t=d.params)||void 0===t?void 0:t.username,u=(0,l.useRouteMatch)("/pin/:id"),h=(0,n.useSelector)((e=>{var t,s,n,i;return!(null==u||null===(t=u.params)||void 0===t||!t.id)&&(null==e||null===(s=e.pins)||void 0===s||null===(n=s[u.params.id])||void 0===n||null===(i=n.pinner)||void 0===i?void 0:i.id)}));if((0,o.ej)(s))return!1;if((0,o.RU)(s))return!0;if((0,o.mY)(s))return c;const p=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find((e=>{const{user:t={},id:s}=e||{},{username:n}=t;return!!(n&&_||h&&s)&&(n===_||h===s)}));return!!p&&p.id}},641692:(e,t,s)=>{s.d(t,{uB:()=>P,re:()=>C,Xc:()=>b,NH:()=>f,Mz:()=>E,Mj:()=>L,LZ:()=>I,Lu:()=>w,es:()=>O,i5:()=>D,QR:()=>H,xV:()=>U,o_:()=>Z,d5:()=>S,if:()=>B,xQ:()=>v,O9:()=>y,bq:()=>j,HH:()=>k,Ti:()=>R,cG:()=>x,Hw:()=>z,YA:()=>F,HC:()=>M,Y8:()=>N,$n:()=>G});var n=s(983722),i=s(934723),r=s(28543),o=s(441609),l=s.n(o),a=s(172071),c=s(382891),d=s(657606);const _=({values:e,pin:t,productGroup:s,country:n})=>{const{name:i,destination_url:r,budget:o,duration:l,inclusive_end_date:a,is_ongoing:_,advertiser_id:u,ages:h,interests:p,genders:m,ad_type:A,selected_ocpm_tag:g,isAutoTargeting:P}=e,C=Math.round(o*d.Az),E=(0,c.Z)({ages:h,interests:p,genders:m,country:n}),f={};A===d.Hl.WEB_CONVERSION&&(f.objective_type=d.Hl.WEB_CONVERSION,f.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:g.conversionTagId,conversion_event:g.conversionEvent}});const b={budget_in_micro_currency:C,campaign_name:i&&i.length<64?i:`${(i||"").substr(0,62)}…`,destination_url:t?r:null,duration:parseInt(l,10),auto_targeting_enabled:P,is_ongoing:_,start_now:!0,targeting_spec:E,advertiser_id:u,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:s?s.id:null,...f};return!_&&a&&a.trim().length>0&&(b.inclusive_end_date=a),b};var u=s(6637),h=s(572621),p=s(826067),m=s(539497),A=s(966113),g=s(957161);const P=472,C=364,E={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},f={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},b={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page"},y=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e}),x=e=>{const{isAnalyticsSite:t=!1,isSterlingSite:s=!1,isWwwSite:n=!1,loggingType:i}=e;let r="";t?r=".analytics":n?r=".www":s&&(r=".ads"),a.Z.increment(`sterling.quick_promote.page${r}.${i}`,1)},v=e=>e?d.vX.indexOf(e):-1,S=e=>{if(!(null==e||e<0||e>d.vX.length-1))return d.vX[e]},T=e=>{let t=1223,s=205;return e===d.Gl.BUSINESS_FORM?(t=11213,s=13375):e===d.Gl.BILLING_FORM&&(t=11214,s=13376),{component:s,element:t}},w=(e,t)=>{const s=S(e),{component:n,element:i}=T(s);t({event_type:101,component:n,element:i,aux_data:{page:"GestaltQuickPromote"}})},I=(e,t)=>{const s=S(e),{component:n}=T(s);s===d.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):s===d.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},O=(e,t)=>{const s=[...new Set(null==e?void 0:e.split("+"))];return t&&s.filter((e=>e in t))},z=(e,t)=>{if(!t||!e)return"";return`${`https://${A.KUo}`}/advertiser/${e}/billing/${`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`}`},L=(e,t)=>{if(!e)return"";const{ad_group_id:s=""}=e,n=(0,r.default)("adgroup",t,{id:s,showAllEntities:!0});return(0,i.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},R=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),M=e=>{const{pin:t,productGroup:s,country:n,onSaveSuccess:i,onSaveFailed:r,quickPromoteFormValues:o,advertiserId:l}=e,a=t?`/ads/v4/advertisers/${l}/pins/${(null==t?void 0:t.id)||""}/quick_promote/`:`/ads/v4/advertisers/${l}/product_group/${(null==s?void 0:s.id)||""}/quick_promote/`,c=t?"pin":"product_group";u.Z.create("ApiResource",{url:a,data:_({values:o,pin:t,productGroup:s,country:n})}).callCreate().then((({resource_response:e})=>{null!=e&&e.data&&i(e.data)})).catch((e=>{const{httpStatus:t,message_detail:s}=e;let n;n=s?{area:401===t?c:"modal",message:s}:{area:"modal"},r(n)}))},U=e=>{const{hasValidBillingProfile:t,hasBusinessAddress:s,hasBillingInfo:n,hasBusinessInfo:i,serverErrorArea:r,stepIndex:o,isQuickPromotePage:l=!1}=e,{hasValidBusinessInfo:a,hasValidBillingInfo:c}=R({hasValidBillingProfile:t,hasBusinessAddress:s,hasBillingInfo:n,hasBusinessInfo:i});let _=[void 0,null].includes(o)?0:o+1;return S(o)===d.hf&&(r?_="modal"===r?v(d.Gl.ERROR_MODAL):o:a&&c?_=v(d.Gl.SUCCESS_MODAL):a?_=v(d.Gl.BILLING_FORM):l||(_=v(d.Gl.BUSINESS_FORM))),_>d.vX.length-1?void 0:_},j=e=>{let t=d.Pq.WIDE;return e<870?t=d.Pq.NARROW:e>=870&&e<=1275&&(t=d.Pq.MEDIUM),t},k=(e,t,s)=>{var i,r;const{crossSite:o}=(0,p.mB)(e.search);if(null!==(i=null===(r=(0,n.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled)&&void 0!==i&&i&&t.length<=1)window.close();else if(window){const e=s.find((e=>e.location.pathname.includes("pin-builder"))),n=Boolean(e)?3:1;[...Array(n)].forEach((()=>o?window.history.back():t.goBack()))}else t.goBack()},D=e=>{switch(e){case 4:return A.YDz;case 3:return A.KUo;case 0:return A.ViA;default:return null}},N=(e,t,s)=>{(0,g.Nh)(`quickPromote.${t}.${e}`,JSON.stringify({pin:s.pin,dailyBudget:s.dailyBudget,destinationUrl:s.destinationUrl,duration:s.duration,locale:s.locale,name:s.name,interests:s.interests,ages:s.ages,genders:s.genders,adType:s.adType}))},B=(e,t)=>{if(e&&t){var s;const n=JSON.parse(null!==(s=(0,g.qn)(`quickPromote.${t}.${e}`))&&void 0!==s?s:"{}");return l()(n)?null:n}return null},F=(e,t)=>{e&&t&&(0,g.L_)(`quickPromote.${t}.${e}`)};function G(e,t){const s=[...e],n=s.indexOf(t);return n>-1?s.splice(n,1):s.push(t),s}async function Z(e,t,s){const n=e.filter((e=>e.filter_v2));s(t((await Promise.all(n.map((async e=>{const t=u.Z.create("ApiResource",{url:`/v3/catalogs/product_groups/products/${e.merchant_id}/${e.feed_profile_id}/`,enabledRouteRefresh:!0,data:{filters:JSON.stringify(e.filter_v2)},field_sets:(0,h.G6)()});try{var s;(0,m.My)("client.partner.shoppingAds.getProductsForCatalog.success");return{productGroup:e,pins:(null===(s=(await t.callGet()).resource_response)||void 0===s?void 0:s.data)||[]}}catch(n){return(0,m.My)("client.partner.shoppingAds.getProductsForCatalog.error"),[]}})))).filter((e=>e.productGroup&&Array.isArray(e.pins)&&e.pins.length>0)).map((e=>({productPin:Array.isArray(e.pins)?e.pins[0]:[],productGroup:Array.isArray(e)?null:e.productGroup})))))}async function H(e,t,s,n){if(!t)return;n(s(await Promise.all(t.map((async t=>{const s=u.Z.create("ApiResource",{url:`/ads/v4/advertisers/${e}/product_groups/catalogs/`,enabledRouteRefresh:!0,data:{feed_profile_id:t.id}});try{var n;const e=(null===(n=(await s.callGet()).resource_response)||void 0===n?void 0:n.data)||[];return{feed:t,productGroups:e.filter((e=>e.product_count&&e.product_count>0))}}catch(i){return[]}})))))}},438112:(e,t,s)=>{s.d(t,{aI:()=>o});const n=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),i=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),r=[i.ALPHA,i.BETA,i.GA],o=e=>r.some((t=>((e,t)=>{const s={[i.ALPHA]:n.ACF_RELEASE_ALPHA,[i.BETA]:n.ACF_RELEASE_BETA,[i.GA]:n.ACF_RELEASE_GA}[e],r=s?t.checkExperiment(s):void 0;return"enabled"===(null==r?void 0:r.group)||!1})(t,e)))},719286:(e,t,s)=>{s.d(t,{I9:()=>A,bm:()=>c,gf:()=>o,i7:()=>g,in:()=>u,jz:()=>a,mv:()=>m,pD:()=>l,p_:()=>r,s5:()=>_,tz:()=>h,yo:()=>p,zY:()=>d});const n="iphone",i="android_mobile",r="ipad",o="android_tablet",l="web_mobile",a=["web",l,n,r,i,o],c=["android_mobile","android_tablet","iphone","ipad"],d=["android_mobile","android_tablet","iphone","ipad","web"],_=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","iphone"],h=["android_mobile","android_tablet","iphone","ipad"],p=[n,i],m=[n,r],A=[o,i],g=[n,i]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/ProPartnerHeaderDesktop.en_IN-edd70789ff5323ac.mjs.map