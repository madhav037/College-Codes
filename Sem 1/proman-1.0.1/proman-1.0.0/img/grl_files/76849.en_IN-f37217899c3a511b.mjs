(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76849,39395],{983360:(e,t,r)=>{r.d(t,{$o:()=>n,$t:()=>O,AC:()=>Ee,AO:()=>X,Ae:()=>T,BM:()=>_,C2:()=>N,CB:()=>se,DC:()=>h,Df:()=>m,Fl:()=>p,GG:()=>z,HQ:()=>x,IY:()=>J,JG:()=>V,K0:()=>i,Kp:()=>Q,L6:()=>s,LB:()=>v,Ly:()=>U,MA:()=>M,MU:()=>o,NE:()=>ne,OO:()=>Y,Pz:()=>j,Qj:()=>q,R8:()=>L,Th:()=>Z,U1:()=>B,UD:()=>le,Uf:()=>C,Wn:()=>de,XA:()=>ee,YZ:()=>c,Yn:()=>R,ZX:()=>f,a9:()=>I,aj:()=>$,b6:()=>u,c7:()=>y,cZ:()=>w,cs:()=>D,dF:()=>S,dO:()=>re,eI:()=>F,fz:()=>d,hC:()=>_e,hl:()=>b,il:()=>pe,j_:()=>ce,l_:()=>a,le:()=>k,lj:()=>ue,m2:()=>ae,mU:()=>oe,nk:()=>E,o3:()=>W,pV:()=>G,pd:()=>ie,q:()=>K,tg:()=>P,u2:()=>l,vH:()=>H,vW:()=>te,xV:()=>A,xl:()=>g});const o="APPEND_FEED_ITEMS",s="DISMISS_UNAUTH_APP_UPSELL",i="TOPIC_FOLLOW",n="PIN_ADD",a="PIN_DELETE",d="PIN_EDIT",c="PIN_UNDO_SAVE",u="PIN_IMPRESSIONS",l="PINS_MOVE",p="PINS_MOVE_ALL",_="SET_SESSION_DATA",E="BOARD_SECTION_EDIT",R="BOARD_SECTION_DELETE",m="AUTHENTICATE_USER",y="REGISTER_USER",I="SET_LOGIN_SIGNUP_FROM",h="UPDATE_CURRENT_SEARCH",b="UPDATE_RECENT_SEARCHES",A="CLEAR_RECENT_SEARCH",T="CLEAR_RECENT_PERSONAL_SEARCH",g="CLEAR_RECENT_SEARCHES",S="CLEAR_RECENT_PERSONAL_SEARCHES",f="COMPLETE_STORY",O="SET_NUM_SIGNUP_STEPS",v="SET_OWN_PROFILE_PINS_REFRESH",D="SHOW_REPIN_ANIMATION",P="HIDE_REPIN_ANIMATION",C="MESSAGE_SEND_PENDING",N="MESSAGE_SEND_PENDING_SUCCESS",L="MESSAGE_SEND_PENDING_FAILURE",w="ONE_TAP_SAVE",B="ONE_TAP_UNSAVE",F="CLEAR_MESSAGES_BADGE",M="CLEAR_MESSAGE_BADGE",U="RELOAD_VISUAL_SEARCH_ANNOTATIONS",$="SHOW_NUX_HOMEFEED_LOADER",x="SHOW_BIZ_NUX_HOMEFEED_LOADER",H="SET_VIEWED_IMAGE",k="SET_VIEWED_SHARED_PINS",G="SHOW_NAV_FOOTER",V="HIDE_NAV_FOOTER",Z="SET_MESSENGER_CAMPAIGN_DATA",j="LOGGED_OUT_USER_INFO_FOUND",Y="LOGGED_OUT_USER_INFO_NOT_FOUND",K="PIN_BUILDER_LOADED_IMAGES",z="UPDATE_PIN_BUILDER_INPUT",q="SET_ACTIVE_HOMEFEED_TAB",W="SET_SOCIAL_SEASONAL_BOARD",X="SET_SHARE_ON_BOARD_PAGE",Q="UPDATE_PIN_REACTION_COUNT",J="SET_FLASHLIGHT_CROP_SOURCE",ee="ALLOW_ALL_COOKIES",te="SCROLL_TO_CLOSEUP_PIN",re="STOP_SCROLL_TO_CLOSEUP_PIN",oe="UPDATE_CONTACT_REQUEST_STATUS",se="REMOVE_CONTACT_REQUESTS",ie="SHOW_TOAST_CONTACT_REQUEST_UNDO",ne="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",ae="CONVERSATION_DELETE",de="DISMISS_UNAUTH_SAVE",ce="SET_UNAUTH_SAVE_PIN_ID",ue="COMPLETE_UNAUTH_SAVE_ACTION",le="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",pe="SET_LANDING_PAGE_TYPE",_e="REPLACE_STATE",Ee="SET_DARK_MODE"},27255:(e,t,r)=>{r.d(t,{Z:()=>o});const o={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},834911:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(835209),s=r(341732);function i({carouselData:e,images:t,richMetadata:r,richSummary:i,shouldUnifyImageSizes:n,additionalImages:a}){const d=(0,o.Z)({richPinData:r||i});return d&&a&&a.length>0?(0,s.Z)(null,a,e&&e.index,n,d.id):d&&d.additional_images&&d.additional_images.length>0?(0,s.Z)(t,d.additional_images,e&&e.index,n,d.id):e||void 0}},341732:(e,t,r)=>{r.d(t,{Z:()=>i});const o=["236x","474x","564x","736x"];function s(e){function t(e,{imageKey:t,height:r,width:o}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:r,width:o}}}),e}const r=o.map((function(t){const r=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),o=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:r,width:o}}));return e.map((e=>r.reduce(t,e)))}function i(e,t,r,o,i){const n=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...n]:n;return{carousel_slots:o?s(a):a,index:r||0,id:i}}},782534:(e,t,r)=>{r.d(t,{Z:()=>n,k:()=>s.k});var o=r(780280),s=r(451820),i=r(785893);const n=({dateFormatType:e,useUTC:t=!0,value:r})=>(0,i.jsx)(o.LC,{children:o=>(0,s.Z)(o.locale,r,e,t)})},451820:(e,t,r)=>{r.d(t,{Z:()=>s,k:()=>o});const o={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"};function s(e,t,r,s=!0){const i=function(e){switch(e){case o.YEAR:return{year:"numeric"};case o.LONG:return{year:"numeric",month:"long",day:"numeric"};case o.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case o.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case o.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case o.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case o.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case o.MONTH_DAY:return{month:"long",day:"numeric"};case o.SHORT_MONTH:return{month:"short"};case o.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case o.DAY:return{day:"numeric"};case o.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case o.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case o.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case o.TIME:return{hour:"numeric",minute:"2-digit"};case o.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case o.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(r);s&&(i.timeZone="UTC");return new Intl.DateTimeFormat(e,i).format(t)}},12610:(e,t,r)=>{function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>p,LU:()=>_,ZP:()=>E});const s=1e6,i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},d={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:d,[n.stopped]:d,[n.paused]:d,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class u{constructor(e){o(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),o(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),o(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),o(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(n.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(n.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*s,endTime:Date.now()*s,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(i)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case n.flushed:case n.paused:case n.exit:a[this.debugId]=!0}}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=!0,_=!1;class E{constructor(){l(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),l(this,"_handleMutations",((e,t)=>{const r=this.mutationObservers.get(t);r&&r.offsetHeight<1&&r&&this.stop(r,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new u(e),this.activeImpressions.set(e,t),this.observer.observe(e);const r=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(r)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===_&&(this.pausePriority=e))}resume(e=p){e===_&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=_)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:r}=t.getBoundingClientRect();return r>e?r:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:r}=t.getBoundingClientRect();return r<e?r:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,r)=>{r.d(t,{Z:()=>E});var o=r(667294),s=r(973935),i=r(983722),n=r(834911),a=r(124580),d=r(407043),c=r(802201),u=r(785893);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class _ extends o.Component{constructor(e){super(e),l(this,"trackImpression",(()=>{try{this.node=(0,s.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:r,closeupNavigationType:o,componentType:s,contextLogData:n,elementType:a,impressionAuxFields:d,impressionType:c,loggingId:u,objectIdStr:l,slotIndex:_,trackCarousel:E,viewData:R,viewParameter:m,viewType:y,logContextEvent:I}=this.props,h=p[c],b=h.idType,A=e.forcedExit&&"removed"===e.forcedExit?0:void 0,T={endTime:e.endTime,[b]:u,slotIndex:_,time:e.startTime,renderDuration:e.endTime-e.startTime,type:r,...d,forcedExit:A},g=(0,i.Z)(),{checkExperiment:S}=(g||{}).experimentsClient||{},f="function"==typeof S&&S("web_mweb_story_impression_fix").anyEnabled;if(f&&(p.Story={impressionType:"storyImpression",idType:"idStr",eventType:170}),E||I({event_type:h.eventType,component:s,element:a,event_data:{[h.impressionType]:"Story"===c&&f?T:[T]},object_id_str:l,view_type:y,view_data:R||{},view_parameter:m,aux_data:{...n,closeup_navigation_type:o}}),t&&E){const{carousel_slots:e,index:r=0,id:o}=t;I({event_type:7352,component:s,event_data:{pinCarouselSlotImpressions:[{...T,carouselDataId:Number(o),carouselSlotId:(null==e?void 0:e[r])&&Number(e[r].id),slotIndex:r}]},object_id_str:l,view_type:y,view_data:R||{},view_parameter:m,aux_data:{...n}})}})),this.impressionsFramework=e.impressionsFramework||a.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return o.Children.only(this.props.children)}}function E(e){const{logContextEvent:t}=(0,d.v)(),{loggingId:r}=e,o=(0,c.AF)(),s=r?o[r]:{};return(0,u.jsx)(_,{...e,logContextEvent:t,carousel_data:s&&(0,n.Z)({carouselData:s.carousel_data,images:s.images,richMetadata:s.rich_metadata,richSummary:s.rich_summary})})}},124580:(e,t,r)=>{r.d(t,{Z:()=>o});const o=new(r(12610).ZP)},932995:(e,t,r)=>{function o(e,t,r){const o=[...e],s=o.splice(t,1)[0];return o.splice(r,0,s),o}r.d(t,{Z:()=>o})},909499:(e,t,r)=>{r.d(t,{Hd:()=>n,_R:()=>s,lw:()=>o,wF:()=>i});const o={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},s=e=>{switch(e){case o.PINS:return 43;case o.PINS_MINE:return 107;case o.PINS_BUYABLE:return 254;case o.PINS_VIDEO:return 3306;case o.BOARDS:return 44;case o.USERS:return 45;default:return null}},i=e=>{switch(e){case o.PINS:return 60;case o.PINS_MINE:return 63;case o.PINS_BUYABLE:return 3800;case o.PINS_VIDEO:return 64;case o.BOARDS:return 61;case o.USERS:return 62;default:return null}},n=e=>{switch(e){case o.USERS:return 1000392;case o.PINS_BUYABLE:return 1000391;case o.PINS:default:return 29}}},648284:(e,t,r)=>{function o({appliedProductFilters:e,autoCorrectionDisabled:t,filters:r,query:o,scope:s,selectedPinImgSig:i,user:n}){const a=[s,r,e,n,i,o].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function s(e){const{autoCorrectionDisabled:t,appliedProductFilters:r,appliedFilters:o,filters:s,selectedPinImgSig:i,query:n,rs:a,scope:d,bubbleId:c,user:u}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:r=null,bubbleId:o=null,filters:s=null,query:i=null,rs:n="direct_navigation",scope:a="pins",selectedPinImgSig:d=null,sourceId:c=null,user:u}){return{article:o,applied_filters:t,appliedProductFilters:r,auto_correction_disabled:e,corpus:d?"personalize":null,customized_rerank_type:d?"manas_graph_sage_only_wand_rewrite":null,filters:s,query:i,query_pin_sigs:d,redux_normalize_feed:!0,rs:n,scope:a,source_id:c,user:u}}({autoCorrectionDisabled:!!t,appliedProductFilters:r,appliedFilters:o,filters:s,query:n,rs:a,scope:d,selectedPinImgSig:i,bubbleId:c,user:u})}}r.d(t,{Ht:()=>s,Tb:()=>o})},835209:(e,t,r)=>{function o({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}r.d(t,{Z:()=>o})},70061:(e,t,r)=>{function o(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}r.d(t,{Z:()=>o})},869899:(e,t,r)=>{r.r(t),r.d(t,{RoleBasedAccessControlProvider:()=>h,useRoleBasedAccessControlContext:()=>I});var o=r(667294),s=r(389643),i=r(784590),n=r(19121),a=r(773285),d=r(425288),c=r(70061);const u=e=>{const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,c.Z)(r)]=e[r]:t[(0,c.Z)(r)]=u(e[r]));return t},l=(e,t)=>{const r=[];for(const i in e)i!==t&&r.push({id:i,...u(e[i])});const o=r.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),s=new Map;for(const i of o)s.set(i.id,i);return s};var p=r(622096);const _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},E=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},R=e=>{const[t,r]=(0,o.useReducer)(E,_),s=(({dispatch:e,isEnabled:t,state:r})=>{const{orbacVisibility:s,disableProfileChanger:i,headerVisible:n}=r;return{changeProfile:(0,o.useCallback)((r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})}),[t,e]),toggleORBACVisibility:(0,o.useCallback)((r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=r?r:!s})}),[t,e,s]),toggleDisableProfileChanger:(0,o.useCallback)((r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=r?r:!i})}),[t,e,i]),toggleHeaderVisibility:(0,o.useCallback)((r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=r?r:!n})}),[t,e,n])}})({dispatch:r,isEnabled:e,state:t}),{activeProfile:i,orbacVisibility:n}=t;(0,o.useEffect)((()=>{const e=(0,p.qn)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,o.useEffect)((()=>{const e=(0,p.qn)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,o.useEffect)((()=>{(0,p.Nh)("orbacVisibility",n)}),[n]),(0,o.useEffect)((()=>{(0,p.Nh)("orbacActiveProfile",i)}),[i]);return{state:t,actions:s,receiveProfiles:(0,o.useCallback)(((e,t)=>{r({type:"LOAD_PROFILES",payload:l(e,t)})}),[r])}};var m=r(785893);const{Provider:y,useMaybeHook:I}=(0,d.Z)("RoleBasedAccessControlContext"),h=({children:e})=>{const{checkExperiment:t}=(0,a.F)(),r=(0,n.Z)(),d=Boolean(r.isAuth&&r.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:l}=R(d),{activeProfile:p,headerVisible:_,profiles:E=[]}=c,I=E?Array.from(E.values()):[],h=(0,s.Z)(I),b=!!(r.isAuth&&I.length>0)&&h,A=r.isAuth?r.id:"",T=r.isAuth?r.username:"",{changeProfile:g,toggleORBACVisibility:S,toggleDisableProfileChanger:f,toggleHeaderVisibility:O}=u;(0,o.useEffect)((()=>{d&&("string"!=typeof h?p||g(A):g(h))}),[h,A,d,g,p]),(0,o.useEffect)((()=>{d&&(b&&!_&&O(!0),!b&&_&&O(!1))}),[O,b,d,_,E]);const{data:v}=(0,i.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),D=null==v?void 0:v.profiles;let P;r&&r.isAuth&&c.activeProfile===r.id?P={id:r.id,permissions:["OWNER"],user:{username:T,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:p&&c.profiles&&(P=c.profiles.get(p)),(0,o.useEffect)((()=>{D&&l(D,A)}),[l,D,A]);const C=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(y,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:P,changeProfile:g,toggleORBACVisibility:S,toggleDisableProfileChanger:f,toggleHeaderVisibility:O},children:e})}},717615:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(389643),s=r(773285),i=r(869899);const n=()=>{const{checkExperiment:e}=(0,s.F)(),t=(0,i.useRoleBasedAccessControlContext)(),{activeProfile:r}=t||{},n=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,o.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return n?d&&!a?Object.freeze({}):r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({}):Object.freeze({})}},389643:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(702664),s=r(19121),i=r(773285),n=r(53987),a=r(276775);const d=e=>{var t;const r=(0,a.useLocation)(),d=(0,s.Z)(),{anyEnabled:c}=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www"),u=(0,a.useRouteMatch)("/:username"),l=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,a.useRouteMatch)("/pin/:id"),_=(0,o.useSelector)((e=>{var t,r,o,s;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(r=e.pins)||void 0===r||null===(o=r[p.params.id])||void 0===o||null===(s=o.pinner)||void 0===s?void 0:s.id)}));if((0,n.ej)(r))return!1;if((0,n.RU)(r))return!0;if((0,n.mY)(r))return c;const E=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find((e=>{const{user:t={},id:r}=e||{},{username:o}=t;return!!(o&&l||_&&r)&&(o===l||_===r)}));return!!E&&E.id}},231947:(e,t,r)=>{r.d(t,{D3:()=>c,DX:()=>a,KY:()=>u,Ms:()=>o,N1:()=>l,_P:()=>n,lJ:()=>i,nl:()=>s,q6:()=>d});const o=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},s=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),i=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",n=(e,t,r)=>{var o;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null===(o=e.advertiser)||void 0===o?void 0:o.merchant_id},a=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,d=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),c=(e,t,r)=>!!(d(e,t,r)||e&&e.isAuth&&t===e.id),u=(e,t,r)=>{const o=t&&t.owner&&t.owner.id||"";return c(e,o,r)};function l(e,t,r){const o=t?t.id:"";return c(e,o,r)}},87732:(e,t,r)=>{r.d(t,{a:()=>l,S:()=>u});var o=r(667294),s=r(6637);const i={boardMap:{}};function n(e=i,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){const{payload:{boardId:r,blockingActions:o}}=t;let s=null,i=null;const n={};return o.forEach((({section_id:e,progress:t,id:r,created_timestamp:o})=>{const a={id:r,createdAt:o,progress:t};e?"-1"===e?s=a:n[e]=a:i=a})),{...e,boardMap:{...e.boardMap,[r]:{wholeBoard:s,unorganized:i,sectionMap:n}}}}return e}var a=r(425288),d=r(785893);const{Provider:c,useMaybeHook:u}=(0,a.Z)("BlockingAction");function l({children:e}){const[t,r]=(0,o.useReducer)(n,i),a=(0,o.useCallback)((e=>function(e){return s.Z.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,r)=>{const o=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;o?t(o):r(new Error("No blocking actions found in the response"))}))))}(e).then((t=>(r({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)))),[]),u=(0,o.useMemo)((()=>({blockingActions:t,fetchBlockingActions:a})),[t,a]);return(0,d.jsx)(c,{value:u,children:e})}},976849:(e,t,r)=>{r.d(t,{Z:()=>S});var o=r(667294),s=r(702664),i=r(240684),n=r(558446),a=r(717615),d=r(19121),c=r(935409),u=r(87732),l=r(407043),p=r(50286),_=r(904411),E=r(782534),R=r(298361),m=r(898781),y=r(231947),I=r(883119),h=r(785893);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const A=(0,i.ZP)({resolved:{},chunkName:()=>"BoardEdit-BoardEditModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(97270),r.e(53068),r.e(25243),r.e(71654)]).then(r.bind(r,684333)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 684333}}),T="write";class g extends o.Component{constructor(...e){super(...e),b(this,"state",{isEditModalOpen:!1}),b(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),b(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:r}=this.props,o="list"===r;return e.archived_by_me_at?o?(0,h.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n.bt("Archived", "Archived", "profileBoardCard.footer.archived", undefined, true):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||o?this.props.getHumanizedTimeSince(null!==(i=e.board_order_modified_at)&&void 0!==i?i:"",!0):null:o?(0,h.jsx)("span",{children:(0,h.jsx)(E.Z,{dateFormatType:E.k.LONG,value:new Date(null!==(s=e.created_at)&&void 0!==s?s:"")})}):null;var s,i})),b(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t,isOwnProfile:r}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4,view_parameter:r?3106:3107,aux_data:{board_id:e.id,board_pin_count:e.pin_count}})})),b(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:r}=this.props;this.setState({isEditModalOpen:!0}),r({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),b(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e,t,r;const{board:s,forwardedRef:i,isAuthDesktop:a,isReordering:d,isOwnProfile:c,layout:u,onBoardArchiveChange:l,onBoardDelete:p,onBoardPrivacyChange:_,onBoardLeave:E,onBoardUpdate:R,slotIndex:m,viewer:b,orbacActingAs:g}=this.props,{isEditModalOpen:S}=this.state;if(!s)return null;const f=(0,y.D3)(b,null!==(e=null===(t=s.owner)||void 0===t?void 0:t.id)&&void 0!==e?e:"",g),O=(0,y.lJ)(b,g),{url:v}=s,D=O?`?orbac_subject_id=${O}`:"",P=c||(null===(r=s.access)||void 0===r?void 0:r.includes(T))||f,C=this.getSubtitleText();return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(I.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${null!=v?v:""}${D}`,ref:i,children:(0,h.jsx)(I.xu,{children:(0,h.jsx)(n.Z,{board:s,canEdit:P,isOwnProfile:c,isReordering:d,layout:u,onEditClick:this.handleEditClick,slotIndex:m,subtitle:C})})}),a&&S&&(0,h.jsx)(A,{boardId:s.id,onBoardArchiveChange:l,onBoardDelete:p,onBoardLeave:E,onBoardPrivacyChange:_,onBoardUpdate:R,onClose:this.handleEditClose})]})}}function S(e){var t;const{board:r}=e,{logContextEvent:o}=(0,l.v)(),i=(0,m.ZP)(),n=(0,R.Z)(),E=(0,a.Z)(),y=(0,d.Z)(),I=(0,s.useDispatch)(),b=((0,_.bn)()[r.id]||{}).images,{blockingActions:A}=null!==(t=(0,u.S)())&&void 0!==t?t:{},T=((A.boardMap[r.id]||{}).wholeBoard||{}).progress,S=y&&y.isAuth,f=(0,p.HG)()&&S;return(0,h.jsx)(g,{...e,i18n:i,viewer:y,orbacActingAs:E,getHumanizedTimeSince:n,logContextEvent:o,updateBoard:()=>I((0,c.oG)(r.id,"profile_grid_item")),images:b,progress:T,isAuthDesktop:f})}b(g,"defaultProps",{isOwnProfile:!1,isReordering:!1})},91456:(e,t,r)=>{r.d(t,{GY:()=>n,LM:()=>d,h9:()=>c,r$:()=>a});var o=r(385740),s=r(909499);const i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function n({query:e,scope:t}){return`${e}-${t}`}function a({query:e,rs:t,scope:r},i){const n=(0,o.BE)(),a=!(null!=n&&n.viewType||null!=n&&n.viewParameter),d=(0,s.wF)(r);if(!a&&d){const{viewType:r,viewParameter:o}=null!=n?n:{};i({event_type:d,view_type:r,view_parameter:o,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?i({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&i({event_type:101,component:0,element:10349,view_type:142})}const d=(e=[])=>{let t=!0;return e.reduce(((e,r)=>{var o;return t&&r.story_type&&i.includes(r.story_type)&&0===(null===(o=r.display_options)||void 0===o?void 0:o.num_columns_requested)?e.searchFullWidthStories.push(r):(t=!1,e.filteredResults.push(r)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},558446:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(564194),s=r(728375),i=r(785893);function n({board:e,isOwnProfile:t,slotIndex:r,...n}){var a,d,c;const u=t?3069:3070;return(0,i.jsx)(o.Z,{componentType:13669,contextLogData:{board_id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:"",board_pin_count:null!==(d=null==e?void 0:e.pin_count)&&void 0!==d?d:""},impressionType:"Board",loggingId:null!==(c=null==e?void 0:e.id)&&void 0!==c?c:"",slotIndex:r,viewParameter:u,viewType:4,children:(0,i.jsx)(s.Z,{board:e,...n,viewParameter:u,viewType:4})})}},31185:(e,t,r)=>{function o(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}r.d(t,{Z:()=>o})},848900:(e,t,r)=>{r.d(t,{Z:()=>o});const o=(e,t)=>`${e}:${t||""}`},527885:(e,t,r)=>{r.d(t,{O:()=>a,Q:()=>d});var o=r(848900),s=r(414327),i=r(875495);const n=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],a={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:o},s)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:o,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...s?{orbac_subject_id:s}:Object.freeze({})})},d=e=>n.reduce(((t,r)=>{const n=[(0,i.N8)("profileBoards",(0,o.Z)(e,r))];return[!0,!1].forEach((t=>{[!0,!1].forEach((o=>{n.push((0,s.jB)(a.name,a.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:o})))}))})),t.concat(n)}),[])},935409:(e,t,r)=>{r.d(t,{$z:()=>L,Br:()=>p,Cr:()=>f,K8:()=>I,Q_:()=>A,Tq:()=>m,Xi:()=>C,YQ:()=>w,YV:()=>S,ZP:()=>O,aX:()=>v,eo:()=>E,gi:()=>g,md:()=>_,oG:()=>R,oL:()=>D,of:()=>h,xH:()=>y,xQ:()=>b,xR:()=>N,xk:()=>T,yT:()=>l});var o=r(27255),s=r(31185),i=r(778821),n=r(379725),a=r(875495),d=r(527885),c=r(414327),u=r(6637);function l(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function E({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:o}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:o}}}const R=(e,t)=>r=>r((0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function m(e,t,r){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...r?{orbac_subject_id:r}:{}}})}function y(e,t,r){return o=>u.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...r?{orbac_subject_id:r}:{}}).callUpdate().then((()=>Promise.all([o(E({boardId:e})),o(m(t,"pin_count")),o((0,a.N8)(i.DV.BOARD_SECTIONS,t))])))}function I(e){return t=>{e&&(0,d.Q)(e).forEach((e=>{t(e)}))}}const h=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),b=e=>R(e,"pin_count");function A(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function T(e,t){return r=>(r(A(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function g(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function S(e,t){return r=>(r(g(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const f=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),O=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function v(e,t,r){const i={name:e,privacy:o.Z.BoardPrivacy.PUBLIC,username:t,...r?{orbac_subject_id:r}:Object.freeze({})};return e=>u.Z.create("BoardResource",i).callCreate().then((r=>{const o=r.resource_response.data;return e(t&&(0,c.jB)("BoardsResource",(0,s.Z)(t,!1))),o}))}function D(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}const P=(e,t,r,o)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:o}}),C=(e,t=!1,r)=>o=>(o(((e,t,r)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:r}}))(e,t,r)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==r?void 0:r.id}).callUpdate()),N=(e,t)=>r=>(r(((e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}))(e,t)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),L=(e,t,r)=>o=>(o(P(e,t,"new",r)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:r.map((({id:e})=>e))}).callCreate()),w=(e,t,r,o,s)=>i=>{var n,a;const d="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return i(((e,t,r)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:r}}))(e,null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",r)),u.Z.create(d,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(a=null==o?void 0:o.id)&&void 0!==a?a:"",...s?{orbac_subject_id:s}:{}}).callDelete().catch((()=>i(P(e,r,t,[o]))))}},875495:(e,t,r)=>{function o(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function s(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>n,N8:()=>s,Qv:()=>i,_f:()=>o,vX:()=>a});const i=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},47495:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(583228);const s={AggregatedCommentResource:o.rm,AggregatedCommentFeedResource:o.LR,AggregatedCommentReplyResource:o.rm,AggregatedCommentReplyFeedResource:o.LR,AggregatedActivityFeedResource:o.LR,BestPinsFeedAltResource:o.LR,BoardArchiveResource:o.LR,BoardCollaboratorsResource:o.LR,BoardContentRecommendationResource:o.LR,BoardFeedResource:o.LR,BoardFollowingResource:o.LR,BoardInviteResource:o.sf,BoardInvitesResource:o.Ht,BoardlessPinsResource:o.LR,BoardPickerBoardsResource:{all_boards:o.LR,boards_shortlist:o.LR},BoardSectionEditResource:o._F,BoardSectionsRepinResource:o.LR,BoardSectionsResource:o.LR,BoardsFeedResource:o.LR,BoardResource:o.IY,BoardSectionResource:o._F,BoardSectionPinsResource:o.LR,BoardToolsFeedResource:o.LR,ContactRequestsResource:o.LR,ConversationsResource:o.LR,ConversationMessagesResource:o.dq,DidItCommentsResource:o.LR,DidItLikedByResource:o.Gn,DidItUserFeedResource:o.LR,ExploreArticleBlockPinResource:o.LR,ExploreArticleBlockSearchResource:o.LR,ExploreArticleBlockUserResource:o.LR,ExploreArticleBlockUserDidItDataResource:o.LR,ExploreArticleResource:o.yg,FollowingFeedResource:o.LR,HolidaySpotlightRelatedFeedResource:o.LR,HolidaySpotlightResource:o.LR,InterestFollowingResource:o.LR,InterestResource:o.cC,MoreIdeasTabsBoardsResource:o.LR,NewsHubResource:o.LR,NewsHubDetailsResource:o.LR,NewsHubSummaryResource:o.t6,NuxInterestsResource:o.LR,NuxTopicToCreatorsResource:o.Gn,PinResource:o.Cj,PinCatalogResource:o.LR,PinsFromBrandResource:o.LR,ReactionsResource:o.fE,RelatedArticlesResource:o.LR,RelatedInterestsResource:o.LR,RelatedModulesResource:o.LR,RelatedPinFeedResource:o.LR,RelatedProductFeedResource:o.LR,RelatedStreamResource:o.LR,RepinResource:o.Cj,BaseSearchResource:{results:o.LR},SearchResource:o.LR,SectionToolsFeedResource:o.LR,ShareSuggestionsTypeaheadResource:{items:o.LR},ShoppingFeedModularizedResource:o.LR,StoryFeedResource:o.LR,StoryPinTaggedProductsResource:o.LR,SuggestedCreatorFollowsResource:o.Gn,TodayArticleFeedResource:o.LR,IdeasHubTodayArticlesResource:o.LR,TodayArticleResource:o.iF,TodayTabInterestFeedResource:o.LR,TodayTabResource:o.LR,TopicFeedResource:o.LR,UnifiedCommentsResource:o.LR,UserActivityPinsResource:o.LR,UserFollowingResource:o.LR,UserRecentActivityResource:o.LR,UserSimilarBusinessesResource:o.LR,UserHomefeedResource:o.LR,UserPinsResource:o.LR,UserSettingsResource:o.EA,UserStoryPinsFeedResource:o.LR,UserResource:o.EA,VideosFeedResource:o.LR,VisualLiveSearchResource:{results:o.LR},VisualLiveSearchProductFeedResource:o.LR,VisualSearchFlashlightUnifiedResource:o.LR,SeoTier1CandidateResource:o.LR}},583228:(e,t,r)=>{r.d(t,{Cj:()=>c,EA:()=>i,Gn:()=>O,Ht:()=>f,IY:()=>d,LR:()=>D,_F:()=>p,cC:()=>h,dq:()=>E,fE:()=>l,iF:()=>I,rm:()=>n,sN:()=>v,sf:()=>A,t6:()=>S,yg:()=>m});var o=r(782677);const s=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),i=new o.fK.Entity(s.user),n=new o.fK.Entity(s.aggregatedComment,{user:i,tagged_users:[i]}),a=new o.fK.Entity(s.article,{curator:i}),d=new o.fK.Entity(s.board),c=new o.fK.Entity(s.pin),u=new o.fK.Entity(s.reaction,{user:i}),l=new o.fK.Array(u),p=new o.fK.Entity(s.boardsection),_=new o.fK.Entity(s.conversationMessage,{sender:i,users:[i],board:d,pin:c,user:i}),E=new o.fK.Array(_),R=new o.fK.Entity(s.contactrequest),m=new o.fK.Entity(s.story,{cover_pin:c,user:i}),y=new o.fK.Entity(s.triedit,{pin:c,user:i}),I=new o.fK.Entity(s.todayArticle,{article_creator_user:i,content_pin:c,content_pin_official_user:i,video_pin:c}),h=new o.fK.Entity(s.topic,{},{processStrategy:(e,t,r)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new o.fK.Entity(s.creatorRecommendationItem,{user:i,interest:h}),A=new o.fK.Entity(s.invite,{invited_by_user:i,invited_user:i,board:d},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),T=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},g=new o.fK.Union({user:i,board:d,invite:A,pin:c,topic:h,triedit:y},T),S=new o.fK.Entity(s.notification,{content_items:[{content_object:g}],header_icon_objects:[g]}),f=new o.fK.Array(A),O=new o.fK.Array(i),v=new o.fK.Array(d),D=new o.fK.Array({aggregatedComment:n,article:a,board:d,boardsection:p,contactrequest:R,conversationMessage:_,creatorRecommendationItem:b,notification:S,pin:c,story:m,todayArticle:I,topic:h,triedit:y,user:i},T,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));m.define({objects:D})},778821:(e,t,r)=>{r.d(t,{DV:()=>l,J:()=>m,ZP:()=>b});var o=r(848900),s=r(932995),i=r(47495),n=r(91456),a=r(648284),d=r(983360),c=r(583228),u=r(338739);const l={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USER_DID_IT_DATA:"userDidItData"},p=new Set(["PinResource","RepinResource"]),_={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${l.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`${l.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,r=e.resource_response.data,{story_type:o}=r?r.objects[0]:{story_type:""};return`explore-${o.slice(t)}:${r.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},E={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:l.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:l.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?l.AGGREGATED_COMMENT_REPLIES:l.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:l.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:l.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:l.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:l.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:l.PROFILE_BOARDS,id:(0,o.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:r,filters:o,query_pin_sigs:s,query:i,user:d},response:c})=>{var u;return{type:l.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:o,query:i,selectedPinImgSig:s,scope:r,user:d}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,n.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:l.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:l.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:l.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:l.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:l.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:l.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:l.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:l.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:l.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:l.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},R=(e,{pinId:t,oldFeedId:r,newFeedId:o})=>r===o?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:r}),{pinId:t,feedId:o}),m=(e,t)=>e in _?_[e](t):null,y=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,I=(e,t)=>e.map((({id:e,schema:r})=>{var o;return r?{id:e,type:r,trackingParams:"pin"===r?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===r?null===(o=t.creatorRecommendationItems[e])||void 0===o?void 0:o.user_id:void 0}:null})).filter(Boolean),h=(e,t,r)=>Object.keys(e).reduce(((o,s)=>{const i=e[s]||[],n=i.filter((e=>!(e.type===t&&e.id===r)));return i.length!==n.length&&(o[s]=n),o}),{...e}),b=(e={},t)=>{switch(t.type){case u.zP:case u.aW:{const{payload:o}=t,{resource:s,options:n,normalizedResponse:a,schema:d}=o;if(a&&s in _){const r=((e,t,r)=>{const o=r||i.Z[e];if(o===c.LR)return t.result;if(o===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(o===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(o===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(o===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof o){const e=Object.entries(o).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(s,a,d);if(r&&Array.isArray(r)){const o=_[s](n);if("ShoppingFeedModularizedResource"===s){const{board_id:t,saved_products_only:o}=null!=n?n:{},s=`board-shop-related:${t}`,i=`board-shop-saved:${t}`,d=`board-shop-saved-preview:${t}`,c=[...e[s]||[]],u=[...e[i]||[]],l=[...e[d]||[]];return I(r,a.entities).forEach((e=>{var r;o?u.push(e):a.entities.pins&&(null===(r=a.entities.pins[e.id])||void 0===r?void 0:r.board)===t?l.push(e):c.push(e)})),{...e,[s]:c,[i]:u,[d]:l}}if("BoardToolsFeedResource"===s||"SectionToolsFeedResource"===s)return{...e,[o]:r};{const s=(t.type===u.aW&&e[o]||[]).concat(I(r,a.entities));return{...e,[o]:s}}}}else{var r;const s=o.response.resource_response.data;if(null===(r=o.options)||void 0===r||!r.redux_normalize_feed)return e;const i=E[o.resource](o);if(i){const{type:r,id:o,items:n,reversed:a}=i;let d=(n||s||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===l.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,r)));a&&(d=d.reverse());const c=`${r}:${o}`,p=e[c];if(p||t.type!==u.aW){const r=p||[];let o=d;return t.type===u.aW&&(o=a?d.concat(r):r.concat(d)),{...e,[c]:o}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:r,feedId:o,itemType:i,targetItemId:n,sourceItemId:a}}=t,d=`${r}:${o}`,c=e[d]||[];let u=-1,p=-1;if([l.BOARDFEED,l.BOARD_SECTION_PINS,l.BOARD_SECTIONS,"profileBoards"].includes(r)&&(u=c.findIndex((e=>e.type===i&&e.id===a)),p=c.findIndex((e=>e.type===i&&e.id===n))),-1!==u&&-1!==p)return{...e,[d]:(0,s.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:r,feedId:o,inverseSelection:s,itemType:i,itemIds:n=[]}}=t,a=`${r}:${o}`,d=e[a]||[];if(d&&d.length>0&&(r===l.BOARD_SECTION_PINS||r===l.BOARDFEED)){const t=d.filter((e=>{const t=n.includes(e.id);return!(e.type===i&&(s&&!t||!s&&t))})),r=!!t.find((e=>"pin"===e.type));return{...e,[a]:r?t:[]}}if(d&&d.length>0&&r===l.BOARD_SECTIONS){const t=d.filter((e=>{const t=n.includes(e.id);return!(e.type===i&&t)}));return{...e,[a]:t}}if(d&&d.length>0&&(r===l.AGGREGATED_COMMENTS||r===l.BOARDLESS_PINS||r===l.PROFILE_PINS_FEED||r===l.STORY_PINS_FEED||r===l.UNIFIED_COMMENTS||r===l.USER_DID_IT_DATA||r===l.STORY_PIN_DATA)){const t=d.filter((e=>{const t=n.includes(e.id);return!(e.type===i&&t)}));return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:r,feedId:o,itemType:s,itemIds:i=[],prepend:n}}=t,a=`${r}:${o}`,d=e[a]||[];if(d&&(r===l.BOARD_SECTION_PINS||r===l.BOARDFEED||r===l.BOARDLESS_PINS)){const t=i.map((e=>({id:e,type:s})));let r=0;"story"===(d[0]||{}).type&&(r=1),"story"===(d[1]||{}).type&&(r=2);const o=[...d.slice(0,r),...t,...d.slice(r)];return{...e,[a]:o}}if(d&&r===l.BOARD_SECTIONS){const t=[...i].reverse().map((e=>({id:e,type:"board_section"}))),r=d?[...t,...d]:[...t];return{...e,[a]:r}}if(r===l.AGGREGATED_COMMENTS||r===l.AGGREGATED_COMMENT_REPLIES||r===l.PROFILE_PINS_FEED||r===l.STORY_PINS_FEED||r===l.UNIFIED_COMMENTS){const t=i.map((e=>({id:e,type:s}))),r=d?[...n?t:d,...n?d:t]:t;return{...e,[a]:r}}if(r===l.USER_DID_IT_DATA){const t=i.map((e=>({id:e,type:s}))),r=d?[...t,...d]:t;return{...e,[a]:r}}break}case"FEED_INVALIDATE":{const{payload:{feedType:r,feedId:o}}=t,s=`${r}:${o}`;if(e[s]||[])return{...e,[s]:null};break}case d.MU:{const{payload:{id:r,items:o,options:s}}=t,i=e[r];if(i){let t;return t=s.isPrepend?i[0]&&"story"===i[0].type?[].concat(i[0],o,i.slice(1)):o.concat(i):i.concat(o),{...e,[r]:t}}return{...e,[r]:o}}case d.l_:{const{payload:{pinId:r}}=t;return h(e,"pin",r)}case"BOARD_ARCHIVE":{const{payload:{boardId:r,username:o}}=t,s=`profile-boards:${null!=o?o:""}`;if(e[s])return{...e,[s]:e[s].filter((e=>e.id!==r))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:r}}=t,o="archived-boards";if(e[o])return{...e,[o]:e[o].filter((e=>e.id!==r))};break}case"BOARD_DELETE":{const{payload:{boardId:r}}=t;return h(e,"board",r)}case d.Yn:{const{payload:{boardSectionId:r}}=t;return h(e,"boardsection",r)}case d.u2:{const{payload:{source:r,target:o,pinIds:s,userId:i}}=t,n=r.boardlessPins&&i&&`boardless-pins:${i}`||r.boardId&&y(r.boardId,r.sectionId),a=y(o.boardId,o.sectionId);return s.reduce(((e,t)=>R(e,{pinId:t,oldFeedId:n,newFeedId:a})),e)}case d.Fl:{const{payload:{source:r,target:o,excludePinIds:s}}=t,i=y(r.boardId,r.sectionId),n=y(o.boardId,o.sectionId),a={...e,[i]:s.map((e=>({type:"pin",id:e})))};return delete a[n],a}case d.fz:{const{payload:{pinId:r,boardId:o,section:s,source:{boardId:i,sectionId:n}}}=t,a=y(i,n),d=y(o,null==s?void 0:s.id);return R(e,{pinId:r,oldFeedId:a,newFeedId:d})}case u.AF:if(p.has(t.payload.resource)){const r=t.payload.response.resource_response.data,o=r.board;let s;if("quick_saves"===o.layout)s=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;s=e?`board-section-pins:${e}`:`boardfeed:${o.id}`}if(e[s]){const t={...e},o={id:r.id,type:"pin",trackingParams:null==r?void 0:r.tracking_params};return t[s]=[o].concat(e[s]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const r=t.payload.normalizedResponse.result,o=`board-sections:${t.payload.normalizedResponse.entities.boardsections[r].board}`;if(e[o]){const t={...e},s={id:r,type:"boardsection"};return t[o]=[s].concat(e[o]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const r={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},o=["aggregated-comments","unified-comments"];let s={...e};for(const i of o){const o=`${i}:${t.payload.options.objectId}`;e[o]&&(s={...s,[o]:[r].concat(s[o])})}return s}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const r=`${l.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[r]:[...e[r]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:r}=t.payload.options;if("reaction"===t.payload.options.action_type){const o=`reactions:${t.payload.options.pin_id}`,s={...e},i={id:`${r}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return s[o]=[i].concat(e[o]),s}if("unreaction"===t.payload.options.action_type){const o=`${r}:${t.payload.options.user_id}`;return h(e,"reaction",o)}}break;case d.ZX:{const{payload:{storyId:r}}=t;return h(e,"story",r)}}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76849.en_IN-f37217899c3a511b.mjs.map